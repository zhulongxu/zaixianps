<!DOCTYPE html>
<html lang="zh-CN" itemscope itemtype="https://schema.org/WebApplication">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="msvalidate.01" content="97F6D7DD36A7B4E56F0102B6309D51A5" />
        <meta name="baidu-site-verification" content="codeva-eQdNCfah8l" />
        <meta name="google-adsense-account" content="ca-pub-9838451060216175">
        <!-- 核心SEO标签 -->
        <title>在线图片格式转换工具 - JPG/PNG/GIF/WEBP互转 | 免费图片转换器</title>
        <meta name="description" content="免费在线图片格式转换工具，支持JPG、PNG、GIF、BMP、WEBP、ICO等格式互转。支持自定义尺寸调整、质量压缩、证件照裁剪。无需下载，浏览器直接使用，专业快速的图片处理工具。">

        <!-- 长尾关键词优化 -->
        <meta name="keywords" content="在线图片转换,JPG转PNG,PNG转JPG,图片格式转换,WEBP转换,GIF转换,图片压缩,证件照裁剪,图片尺寸调整,免费图片工具,在线图片处理,图片转换器,格式转换工具">

        <!-- 作者和版权 -->
        <meta name="author" content="在线PS编辑器">
        <meta name="copyright" content="免费使用">
        <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large">

        <!-- 地理和语言 -->
        <meta name="language" content="zh-CN">
        <meta name="geo.region" content="CN">
        <meta name="geo.country" content="China">

        <!-- 移动优化 -->
        <meta name="format-detection" content="telephone=no">
        <meta name="applicable-device" content="pc,mobile">

        <!-- 页面主题色 -->
        <meta name="theme-color" content="#667eea">
        <meta name="msapplication-TileColor" content="#667eea">
        <meta name="baidu-site-verification" content="codeva-eQdNCfah8l" />

        <!-- 社交媒体优化 -->
        <meta property="og:title" content="在线图片格式转换工具 - JPG/PNG/GIF/WEBP互转">
        <meta property="og:description" content="免费在线图片格式转换，支持多种格式互转和尺寸调整">
        <meta property="og:type" content="website">
        <meta property="og:url" content="http://zaixianps.top/translation.html">
        <meta property="og:image" content="http://zaixianps.top/images/translation-preview.jpg">
        <meta property="og:site_name" content="在线PS编辑器">
        <meta property="og:locale" content="zh_CN">

        <!-- Twitter卡片 -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="在线图片格式转换工具">
        <meta name="twitter:description" content="免费在线图片格式转换，支持多种格式互转和尺寸调整">
        <meta name="twitter:image" content="http://zaixianps.top/images/translation-preview.jpg">

        <!-- Canonical URL -->
        <link rel="canonical" href="http://zaixianps.top/translation.html">

        <!-- 图标 -->
        <link rel="icon" type="image/png" href="/images/favicon.png">
        <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">

        <!-- 预加载关键资源 -->
        <link rel="preload" href="/fonts/MicrosoftYaHei.woff2" as="font" type="font/woff2" crossorigin>

        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({ id: "3NS3cErz0NGDEmjU", ck: "3NS3cErz0NGDEmjU" })</script>

        <!-- 结构化数据 -->
        <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "在线图片格式转换工具",
        "applicationCategory": "GraphicsApplication",
        "description": "免费在线图片格式转换工具，支持JPG、PNG、GIF、WEBP等格式互转",
        "url": "http://zaixianps.top/translation.html",
        "operatingSystem": "Any",
        "permissions": "browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "CNY"
        },
        "featureList": [
            "JPG转PNG",
            "PNG转JPG", 
            "WEBP转换",
            "GIF转换",
            "图片压缩",
            "尺寸调整",
            "证件照裁剪"
        ],
        "screenshot": "http://zaixianps.top/images/translation-screenshot.jpg",
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "ratingCount": "756"
        },
        "breadcrumb": {
            "@type": "BreadcrumbList",
            "itemListElement": [
                {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "首页",
                    "item": "http://zaixianps.top/"
                },
                {
                    "@type": "ListItem", 
                    "position": 2,
                    "name": "图片格式转换",
                    "item": "http://zaixianps.top/translation.html"
                }
            ]
        }
    }
    </script>



        <style>
            /* 导航样式 */
            .site-navigation {
                background: rgba(255, 255, 255, 0.95);
                padding: 15px 0;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                position: sticky;
                top: 0;
                z-index: 1000;
            }

            .nav-container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .nav-logo {
                font-size: 1.5em;
                font-weight: bold;
                color: #667eea;
                text-decoration: none;
            }

            .nav-links {
                display: flex;
                list-style: none;
                gap: 30px;
                margin: 0;
                padding: 0;
            }

            .nav-links a {
                text-decoration: none;
                color: #333;
                font-weight: 500;
                transition: color 0.3s ease;
            }

            .nav-links a:hover,
            .nav-links a.active {
                color: #667eea;
            }

            /* 面包屑导航 */
            .breadcrumb {
                background: #f8f9fa;
                padding: 12px 0;
                font-size: 14px;
            }

            .breadcrumb-container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 20px;
            }

            .breadcrumb a {
                color: #666;
                text-decoration: none;
            }

            .breadcrumb a:hover {
                color: #667eea;
            }

            .breadcrumb span {
                color: #333;
                font-weight: 500;
            }

            /* SEO内容区域 */
            .seo-content {
                background: #f8f9fa;
                padding: 40px 0;
                margin-top: 50px;
            }

            .seo-container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 20px;
            }

            .seo-grid {
                display: grid;
                grid-template-columns: 2fr 1fr;
                gap: 40px;
                margin-top: 30px;
            }

            .feature-list {
                list-style: none;
                padding: 0;
            }

            .feature-list li {
                padding: 8px 0;
                border-bottom: 1px solid #eee;
            }

            .feature-icon {
                color: #667eea;
                margin-right: 10px;
                font-weight: bold;
            }

            .related-tools {
                background: white;
                padding: 25px;
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            }

            .tool-link {
                display: block;
                padding: 12px 15px;
                margin: 8px 0;
                background: #f8f9fa;
                border-radius: 8px;
                text-decoration: none;
                color: #333;
                transition: all 0.3s ease;
            }

            .tool-link:hover {
                background: #667eea;
                color: white;
                transform: translateX(5px);
            }

            /* 原有样式保持不变 */
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Microsoft YaHei', 'Segoe UI', Arial, sans-serif;
                background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
                min-height: 100vh;
                color: #333;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: white;
                border-radius: 20px;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
                overflow: hidden;
                margin-top: 10px;
            }

            .header {
                background: linear-gradient(45deg, #667eea, #764ba2);
                color: white;
                padding: 40px;
                text-align: center;
            }

            .header h1 {
                font-size: 2.8em;
                margin-bottom: 15px;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            }

            .header p {
                font-size: 1.3em;
                opacity: 0.9;
                max-width: 600px;
                margin: 0 auto;
            }

            .main-content {
                padding: 50px;
            }

            .upload-area {
                border: 3px dashed #ddd;
                border-radius: 15px;
                padding: 60px 40px;
                text-align: center;
                margin-bottom: 40px;
                transition: all 0.3s ease;
                cursor: pointer;
                background: #fafafa;
            }

            .upload-area:hover {
                border-color: #667eea;
                background: #f0f4ff;
                transform: translateY(-2px);
            }

            .upload-area.dragover {
                border-color: #764ba2;
                background: #f8f0ff;
                transform: scale(1.02);
            }

            .upload-icon {
                font-size: 5em;
                color: #ddd;
                margin-bottom: 25px;
                transition: all 0.3s ease;
            }

            .upload-area:hover .upload-icon {
                color: #667eea;
                transform: scale(1.1);
            }

            .workspace {
                display: grid;
                grid-template-columns: 1fr 400px;
                gap: 40px;
                margin-top: 40px;
            }

            .preview-section {
                background: #f8f9fa;
                border-radius: 15px;
                padding: 30px;
            }

            .preview-container {
                background: white;
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                min-height: 300px;
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            .preview-image {
                max-width: 100%;
                max-height: 400px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            }

            .settings-panel {
                background: white;
                border-radius: 15px;
                padding: 30px;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
                height: fit-content;
            }

            .setting-group {
                margin-bottom: 30px;
                padding-bottom: 25px;
                border-bottom: 1px solid #eee;
            }

            .setting-group:last-child {
                border-bottom: none;
                margin-bottom: 0;
            }

            .setting-group h3 {
                color: #333;
                margin-bottom: 20px;
                font-size: 1.2em;
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .format-options {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                gap: 12px;
                margin-bottom: 20px;
            }

            .format-btn {
                padding: 12px 8px;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                background: white;
                cursor: pointer;
                text-align: center;
                font-weight: 600;
                transition: all 0.3s ease;
                text-transform: uppercase;
                font-size: 0.9em;
            }

            .format-btn:hover {
                border-color: #667eea;
                background: #f0f4ff;
                transform: translateY(-2px);
            }

            .format-btn.selected {
                border-color: #667eea;
                background: #667eea;
                color: white;
                transform: translateY(-2px);
            }

            .size-presets {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
                margin-bottom: 20px;
            }

            .size-btn {
                padding: 12px 15px;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                background: white;
                cursor: pointer;
                text-align: center;
                font-weight: 500;
                transition: all 0.3s ease;
                font-size: 0.9em;
            }

            .size-btn:hover {
                border-color: #764ba2;
                background: #f8f0ff;
            }

            .size-btn.selected {
                border-color: #764ba2;
                background: #764ba2;
                color: white;
            }

            .custom-size {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                margin-top: 15px;
            }

            .input-group {
                display: flex;
                flex-direction: column;
            }

            .input-group label {
                font-size: 0.9em;
                color: #666;
                margin-bottom: 8px;
                font-weight: 500;
            }

            .input-group input[type="number"] {
                padding: 12px;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                font-size: 1em;
                transition: all 0.3s ease;
            }

            .input-group input[type="number"]:focus {
                outline: none;
                border-color: #667eea;
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            }

            .quality-slider {
                margin-top: 15px;
            }

            .quality-slider label {
                display: block;
                margin-bottom: 12px;
                font-weight: 500;
                color: #555;
            }

            .slider-container {
                position: relative;
            }

            .quality-slider input[type="range"] {
                width: 100%;
                height: 8px;
                border-radius: 4px;
                background: #ddd;
                outline: none;
                -webkit-appearance: none;
            }

            .quality-slider input[type="range"]::-webkit-slider-thumb {
                -webkit-appearance: none;
                width: 20px;
                height: 20px;
                border-radius: 50%;
                background: #667eea;
                cursor: pointer;
                border: 2px solid white;
                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            }

            .quality-value {
                position: absolute;
                right: 0;
                top: -35px;
                background: #333;
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                font-size: 0.8em;
            }

            .crop-area {
                margin-top: 20px;
            }

            .crop-toggle {
                display: flex;
                align-items: center;
                gap: 10px;
                margin-bottom: 15px;
            }

            .crop-toggle input[type="checkbox"] {
                width: 18px;
                height: 18px;
                accent-color: #667eea;
            }

            .action-buttons {
                margin-top: 40px;
                display: flex;
                gap: 15px;
            }

            .btn {
                flex: 1;
                padding: 15px 25px;
                border: none;
                border-radius: 10px;
                font-size: 1.1em;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            .btn-primary {
                background: linear-gradient(45deg, #667eea, #764ba2);
                color: white;
            }

            .btn-primary:hover {
                transform: translateY(-3px);
                box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
            }

            .btn-secondary {
                background: #f8f9fa;
                color: #667eea;
                border: 2px solid #667eea;
            }

            .btn-secondary:hover {
                background: #667eea;
                color: white;
                transform: translateY(-2px);
            }

            .info-display {
                background: #f0f4ff;
                border-radius: 10px;
                padding: 20px;
                margin-top: 20px;
            }

            .info-row {
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
                font-size: 0.9em;
            }

            .info-label {
                color: #666;
                font-weight: 500;
            }

            .info-value {
                color: #333;
                font-weight: 600;
            }

            .hidden {
                display: none;
            }

            .loading {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(255, 255, 255, 0.95);
                padding: 30px;
                border-radius: 15px;
                text-align: center;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            }

            .spinner {
                width: 50px;
                height: 50px;
                border: 4px solid #f3f3f3;
                border-top: 4px solid #667eea;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin: 0 auto 15px;
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }

                100% {
                    transform: rotate(360deg);
                }
            }

            .progress-bar {
                width: 100%;
                height: 6px;
                background: #f0f0f0;
                border-radius: 3px;
                margin-top: 15px;
                overflow: hidden;
            }

            .progress-fill {
                height: 100%;
                background: linear-gradient(45deg, #667eea, #764ba2);
                width: 0%;
                transition: width 0.3s ease;
            }

            @media (max-width: 768px) {
                .workspace {
                    grid-template-columns: 1fr;
                }

                .main-content {
                    padding: 30px 20px;
                }

                .header {
                    padding: 30px 20px;
                }

                .header h1 {
                    font-size: 2.2em;
                }

                .format-options {
                    grid-template-columns: repeat(3, 1fr);
                }

                .action-buttons {
                    flex-direction: column;
                }

                .nav-links {
                    display: none;
                }

                .seo-grid {
                    grid-template-columns: 1fr;
                }
            }

            /* prettier language toggle */
            .language-toggle {
                position: absolute;
                bottom: 40vh;
                right: 18px;
                z-index: 1001;
                font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            }

            .language-toggle button {
                display: inline-flex;
                align-items: center;
                gap: 10px;
                padding: 8px 14px;
                border-radius: 999px;
                border: none;
                cursor: pointer;
                color: #fff;
                background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
                box-shadow: 0 8px 20px rgba(102,126,234,0.18);
                font-weight: 600;
                font-size: 14px;
                transition: transform .15s ease, box-shadow .15s ease, opacity .12s ease;
            }

            .language-toggle button:hover {
                transform: translateY(-3px);
                box-shadow: 0 14px 30px rgba(102,126,234,0.22);
            }

            .language-toggle .flag {
                width: 18px;
                height: 12px;
                border-radius: 2px;
                flex: 0 0 auto;
                box-shadow: 0 1px 2px rgba(0,0,0,0.12) inset;
            }

            .language-toggle .label {
                white-space: nowrap;
            }

            /* small state indicator */
            .language-toggle .pill {
                background: rgba(255,255,255,0.12);
                padding: 4px 6px;
                border-radius: 8px;
                font-size: 12px;
                color: rgba(255,255,255,0.95);
            }

            /* when english active */
            body.lang-en .language-toggle button {
                background: linear-gradient(90deg, #22c1c3 0%, #4ca1af 100%);
                box-shadow: 0 8px 20px rgba(34,193,195,0.16);
            }

            /* ensure focus accessibility */
            .language-toggle button:focus {
                outline: 3px solid rgba(102,126,234,0.18);
                outline-offset: 3px;
            }
        </style>
    </head>

    <body>
        <!-- 添加一个中英文切换按钮 -->
        <div class="language-toggle">
            <button id="toggleLang" aria-label="切换语言 / Toggle language" type="button">
                <span class="flag" id="langFlag" style="background: linear-gradient(90deg,#de2910 0%,#de2910 100%);"></span>
                <span class="label" id="langLabel">中文</span>
                <span class="pill" id="langState">切换</span>
            </button>
        </div>
        <!-- 中文界面 -->
        <div class="controle-zh">
            <!-- 顶部导航 -->
            <nav class="site-navigation">
                <div class="nav-container">
                    <a href="/" class="nav-logo">🎨 在线PS编辑器</a>
                    <ul class="nav-links">
                        <li><a href="/">在线编辑</a></li>
                        <li><a href="/zjz.html">证件照换底色</a></li>
                        <li><a href="/translation.html" class="active">图片格式转换</a></li>
                    </ul>
                </div>
            </nav>
        </div>

        <div class="controle-en">
            <!-- Top Navigation -->
            <nav class="site-navigation">
                <div class="nav-container">
                    <a href="/" class="nav-logo">🎨 Online PS Editor</a>
                    <ul class="nav-links">
                        <li><a href="/">Online Edit</a></li>
                        <li><a href="/zjz.html">ID Photo Background</a></li>
                        <li><a href="/translation.html" class="active">Image Format Converter</a></li>
                    </ul>
                </div>
            </nav>
        </div>

        <!-- 面包屑导航 -->
        <div class="controle-zh">

            <nav class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
                <div class="breadcrumb-container">
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <a itemprop="item" href="/"><span itemprop="name">首页</span></a>
                        <meta itemprop="position" content="1" />
                    </span> >
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <span itemprop="name">图片格式转换</span>
                        <meta itemprop="position" content="2" />
                    </span>
                </div>
            </nav>
        </div>

        <!-- Breadcrumb Navigation -->
        <div class="controle-en">
            <nav class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
                <div class="breadcrumb-container">
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <a itemprop="item" href="/"><span itemprop="name">Home</span></a>
                        <meta itemprop="position" content="1" />
                    </span> >
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <span itemprop="name">Image Format Converter</span>
                        <meta itemprop="position" content="2" />
                    </span>
                </div>
            </nav>
        </div>

        <div class="container">
            <div class="controle-zh">
                <div class="header">
                    <h1>🔄 图像文件转换工具</h1>
                    <p>支持多种格式转换、尺寸调整和质量优化 - 专业、快速、免费</p>
                </div>
            </div>
            <!-- 英文版本 -->
            <div class="controle-en">
                <div class="header">
                    <h1>🔄 Image File Converter</h1>
                    <p>Supports multiple format conversions, size adjustments, and quality optimization - professional, fast, and free</p>
                </div>
            </div>

            <div class="main-content">
                <!-- 上传区域 -->
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">🖼️</div>

                    <div class="controle-zh">
                        <h3>点击或拖拽上传图片</h3>
                        <p>支持 JPG、PNG、GIF、BMP、WEBP 等格式，最大 10MB</p>
                    </div>
                    <!-- 英文版本 -->
                    <div class="controle-en">
                        <h3>Click or Drag to Upload Image</h3>
                        <p>Supports JPG, PNG, GIF, BMP, WEBP, etc. formats, up to 10MB</p>
                    </div>



                    <input type="file" id="fileInput" accept="image/*" class="hidden">
                </div>

                <!-- 工作区域 -->
                <div class="workspace hidden" id="workspace">
                    <!-- 预览区域 -->
                    <div class="preview-section">
                        <div class="controle-zh">
                            <h3>📸 图片预览</h3>
                        </div>
                        <!-- 英文版本 -->
                        <div class="controle-en">
                            <h3>📸 Image Preview</h3>
                        </div>
                        <div class="preview-container">
                            <img id="previewImage" class="preview-image" alt="预览图片">
                            <canvas id="processCanvas" class="hidden"></canvas>
                            <div class="loading hidden" id="loading">
                                <div class="spinner"></div>
                                <div class="controle-zh">
                                    <p>正在处理中...</p>
                                </div>
                                <!-- 英文版本 -->
                                <div class="controle-en">
                                    <p>Processing...</p>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                            </div>
                        </div>

                        <!-- 图片信息 -->
                        <div class="info-display" id="imageInfo">

                            <div class="info-row">
                                <span class="info-label">
                                    <div class="controle-zh">
                                        原始尺寸:
                                    </div>
                                    <!-- 英文版本 -->
                                    <div class="controle-en">
                                        <p>Original Size:</p>
                                    </div>
                                </span>
                                <span class="info-value" id="originalSize">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">
                                    <div class="controle-zh">
                                        文件大小:
                                    </div>
                                    <!-- 英文版本 -->
                                    <div class="controle-en">
                                        <p>File Size:</p>
                                    </div>
                                </span>
                                <span class="info-value" id="fileSize">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">
                                    <div class="controle-zh">
                                        输出尺寸:
                                    </div>
                                    <!-- 英文版本 -->
                                    <div class="controle-en">
                                        <p>Output Size:</p>
                                    </div>
                                </span>
                                <span class="info-value" id="outputSize">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">
                                    <div class="controle-zh">
                                        预计大小:
                                    </div>
                                    <!-- 英文版本 -->
                                    <div class="controle-en">
                                        <p>Estimated Size:</p>
                                    </div>
                                </span>
                                <span class="info-value" id="estimatedSize">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- 设置面板 -->
                    <div class="settings-panel">
                        <!-- 输出格式 -->
                        <div class="setting-group">
                            <div class="controle-zh">
                                <h3>🎯 输出格式</h3>
                            </div>
                            <!-- 英文版本 -->
                            <div class="controle-en">
                                <h3>🎯 Output Format</h3>
                            </div>

                            <div class="format-options">
                                <div class="format-btn selected" data-format="png">PNG</div>
                                <div class="format-btn" data-format="jpg">JPG</div>
                                <div class="format-btn" data-format="gif">GIF</div>
                                <div class="format-btn" data-format="bmp">BMP</div>
                                <div class="format-btn" data-format="webp">WEBP</div>
                                <div class="format-btn" data-format="ico">ICO</div>
                            </div>
                        </div>

                        <!-- 尺寸设置 -->
                        <div class="setting-group">
                            <h3>📏 尺寸设置</h3>
                            <div class="size-presets">
                                <div class="size-btn" data-size="original">
                                    <div class="controle-zh">
                                        🎯 保持原尺寸
                                    </div>
                                    <!-- 英文版本 -->
                                    <div class="controle-en">
                                        Keep Original Size
                                    </div>

                                </div>
                                <div class="size-btn" data-size="16x16">16×16</div>
                                <div class="size-btn" data-size="32x32">32×32</div>
                                <div class="size-btn" data-size="64x64">64×64</div>
                                <div class="size-btn" data-size="128x128">128×128</div>
                                <div class="size-btn" data-size="custom">
                                    <div class="controle-zh">
                                        🎯 自定义
                                    </div>
                                    <!-- 英文版本 -->
                                    <div class="controle-en">
                                        🎯 Custom
                                    </div>
                                </div>
                            </div>

                            <div class="custom-size" id="customSizeInputs">
                                <div class="input-group">
                                    <div class="controle-zh">
                                        <label>宽度 (px)</label>
                                    </div>
                                    <!-- 英文版本 -->
                                    <div class="controle-en">
                                        <label>Width (px)</label>
                                    </div>
                                    <input type="number" id="customWidth" min="1" max="5000" value="300">
                                </div>
                                <div class="input-group">
                                    <div class="controle-zh">
                                        <label>高度 (px)</label>
                                    </div>
                                    <!-- 英文版本 -->
                                    <div class="controle-en">
                                        <label>Height (px)</label>
                                    </div>

                                    <input type="number" id="customHeight" min="1" max="5000" value="300">
                                </div>
                            </div>

                            <div class="crop-area">
                                <div class="crop-toggle">
                                    <input type="checkbox" id="maintainRatio" checked>
                                    <label for="maintainRatio">
                                        <div class="controle-zh">
                                            保持宽高比
                                        </div>
                                        <!-- 英文版本 -->
                                        <div class="controle-en">
                                            <label>Maintain Aspect Ratio</label>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- 质量设置 -->
                        <div class="setting-group">
                            <div class="controle-zh">
                                <h3>⚙️ 质量设置</h3>
                            </div>
                            <!-- 英文版本 -->
                            <div class="controle-en">
                                <h3>⚙️ Quality Settings</h3>
                            </div>
                            <div class="quality-slider">
                                <label>
                                    <div class="controle-zh">
                                        图片质量:
                                    </div>
                                    <!-- 英文版本 -->
                                    <div class="controle-en">
                                        Quality:
                                    </div>
                                    <span id="qualityPercent">90%</span></label>
                                <div class="slider-container">
                                    <input type="range" id="qualitySlider" min="10" max="100" value="90">
                                    <div class="quality-value" id="qualityValue">90%</div>
                                </div>
                            </div>
                        </div>

                        <!-- 操作按钮 -->
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="convertImage()">🔄 
                                <div class="controle-zh">
                                    开始转换
                                </div>
                                <!-- 英文版本 -->
                                <div class="controle-en">
                                    Start Conversion
                                </div>
                                </button>
                            <button class="btn btn-secondary" onclick="resetSettings()">🔄 
                                <div class="controle-zh">
                                    重置设置
                                </div>
                                <!-- 英文版本 -->
                                <div class="controle-en">
                                    Reset Settings
                                </div>
                                </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SEO优化内容区域 -->
        <div class="controle-zh">
            <section class="seo-content">
                <div class="seo-container">
                    <h2>在线图片格式转换工具 - 专业免费</h2>
                    <p>免费在线图片格式转换工具，支持JPG、PNG、GIF、BMP、WEBP、ICO等多种格式互转。无需下载安装任何软件，打开浏览器即可使用。支持自定义尺寸调整、质量压缩，是您处理图片的最佳选择。</p>

                    <div class="seo-grid">
                        <div>
                            <h3>主要功能特色</h3>
                            <ul class="feature-list">
                                <li><span class="feature-icon">✓</span><strong>多格式支持</strong> - JPG、PNG、GIF、WEBP、BMP、ICO互转</li>
                                <li><span class="feature-icon">✓</span><strong>尺寸调整</strong> - 自定义宽高，保持比例缩放</li>
                                <li><span class="feature-icon">✓</span><strong>质量控制</strong> - 自由调节压缩质量，平衡文件大小</li>
                                <li><span class="feature-icon">✓</span><strong>证件照处理</strong> - 支持证件照尺寸调整和裁剪</li>
                                <li><span class="feature-icon">✓</span><strong>批量处理</strong> - 高效处理多张图片</li>
                                <li><span class="feature-icon">✓</span><strong>隐私安全</strong> - 浏览器本地处理，不上传服务器</li>
                                <li><span class="feature-icon">✓</span><strong>免费使用</strong> - 无需注册，无水印，永久免费</li>
                            </ul>

                            <h3>常用格式转换</h3>
                            <p><strong>JPG转PNG：</strong>将有损压缩的JPG图片转换为支持透明背景的PNG格式，适合需要透明效果的场景。</p>
                            <p><strong>PNG转JPG：</strong>将无损压缩的PNG图片转换为文件更小的JPG格式，适合网页展示和存储。</p>
                            <p><strong>WEBP转换：</strong>现代网页格式，压缩率更高，支持透明和动画效果。</p>
                        </div>

                        <aside class="related-tools">
                            <h3>🔧 相关工具</h3>
                            <a href="/" class="tool-link">🎨 在线PS编辑器</a>
                            <a href="/zjz.html" class="tool-link">📷 证件照换底色</a>
                            <a href="#" class="tool-link">🗜️ 图片压缩工具</a>
                            <a href="#" class="tool-link">✂️ 图片裁剪工具</a>
                            <a href="#" class="tool-link">📐 图片尺寸调整</a>
                            <a href="#" class="tool-link">🖼️ 图片格式识别</a>
                        </aside>
                    </div>
                </div>
            </section>
        </div>
        <div class="controle-en">
            <!-- SEO Content Area -->
            <section class="seo-content">
                <div class="seo-container">
                    <h2>Online Image Format Converter - Professional & Free</h2>
                    <p>Free online image format converter, supporting conversion between JPG, PNG, GIF, BMP, WEBP, ICO and more. No download required, use directly in browser. Supports custom size adjustment and quality compression.</p>

                    <div class="seo-grid">
                        <div>
                            <h3>Main Features</h3>
                            <ul class="feature-list">
                                <li><span class="feature-icon">✓</span><strong>Multiple Formats</strong> - Convert between JPG, PNG, GIF, WEBP, BMP, ICO</li>
                                <li><span class="feature-icon">✓</span><strong>Size Adjustment</strong> - Custom width and height, maintain aspect ratio</li>
                                <li><span class="feature-icon">✓</span><strong>Quality Control</strong> - Adjust compression quality, balance file size</li>
                                <li><span class="feature-icon">✓</span><strong>ID Photo Processing</strong> - Support ID photo size adjustment and cropping</li>
                                <li><span class="feature-icon">✓</span><strong>Batch Processing</strong> - Efficiently process multiple images</li>
                                <li><span class="feature-icon">✓</span><strong>Privacy & Security</strong> - Browser-side processing, no server upload</li>
                                <li><span class="feature-icon">✓</span><strong>Free to Use</strong> - No registration, no watermark, forever free</li>
                            </ul>

                            <h3>Common Conversions</h3>
                            <p><strong>JPG to PNG:</strong> Convert lossy JPG images to PNG format with transparent background support, ideal for transparency effects.</p>
                            <p><strong>PNG to JPG:</strong> Convert lossless PNG images to smaller JPG format, suitable for web display and storage.</p>
                            <p><strong>WEBP Conversion:</strong> Modern web format with higher compression ratio, supporting transparency and animation effects.</p>
                        </div>

                        <aside class="related-tools">
                            <h3>🔧 Related Tools</h3>
                            <a href="/" class="tool-link">🎨 Online PS Editor</a>
                            <a href="/zjz.html" class="tool-link">📷 ID Photo Background</a>
                            <a href="#" class="tool-link">🗜️ Image Compressor</a>
                            <a href="#" class="tool-link">✂️ Image Cropper</a>
                            <a href="#" class="tool-link">📐 Image Resizer</a>
                            <a href="#" class="tool-link">🖼️ Image Format Detector</a>
                        </aside>
                    </div>
                </div>
            </section>
        </div>

        <script>
            let originalImage = null;
            let currentSettings = {
                format: 'png',
                width: null,
                height: null,
                quality: 90,
                maintainRatio: true,
                sizeMode: 'original'
            };

            // 初始化
            document.addEventListener('DOMContentLoaded', function () {
                initializeApp();
            });

            function initializeApp() {
                const uploadArea = document.getElementById('uploadArea');
                const fileInput = document.getElementById('fileInput');
                const qualitySlider = document.getElementById('qualitySlider');

                // 上传事件
                uploadArea.addEventListener('click', () => fileInput.click());
                fileInput.addEventListener('change', handleFileSelect);

                // 拖拽事件
                uploadArea.addEventListener('dragover', handleDragOver);
                uploadArea.addEventListener('dragleave', handleDragLeave);
                uploadArea.addEventListener('drop', handleFileDrop);

                // 格式选择
                document.querySelectorAll('.format-btn').forEach(btn => {
                    btn.addEventListener('click', function () {
                        document.querySelectorAll('.format-btn').forEach(b => b.classList.remove('selected'));
                        this.classList.add('selected');
                        currentSettings.format = this.getAttribute('data-format');
                        updatePreview();
                    });
                });

                // 尺寸选择
                document.querySelectorAll('.size-btn').forEach(btn => {
                    btn.addEventListener('click', function () {
                        document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('selected'));
                        this.classList.add('selected');

                        const size = this.getAttribute('data-size');
                        currentSettings.sizeMode = size;

                        if (size === 'custom') {
                            document.getElementById('customSizeInputs').style.display = 'grid';
                        } else {
                            document.getElementById('customSizeInputs').style.display = 'none';
                            if (size !== 'original') {
                                const [width, height] = size.split('x');
                                currentSettings.width = parseInt(width);
                                currentSettings.height = parseInt(height);
                            }
                        }
                        updatePreview();
                    });
                });

                // 质量滑块
                qualitySlider.addEventListener('input', function () {
                    currentSettings.quality = parseInt(this.value);
                    document.getElementById('qualityPercent').textContent = this.value + '%';
                    document.getElementById('qualityValue').textContent = this.value + '%';
                    updatePreview();
                });

                // 自定义尺寸输入
                document.getElementById('customWidth').addEventListener('input', function () {
                    currentSettings.width = parseInt(this.value) || null;
                    if (currentSettings.maintainRatio && originalImage) {
                        const ratio = originalImage.height / originalImage.width;
                        const newHeight = Math.round(parseInt(this.value) * ratio);
                        document.getElementById('customHeight').value = newHeight;
                        currentSettings.height = newHeight;
                    }
                    updatePreview();
                });

                document.getElementById('customHeight').addEventListener('input', function () {
                    currentSettings.height = parseInt(this.value) || null;
                    if (currentSettings.maintainRatio && originalImage) {
                        const ratio = originalImage.width / originalImage.height;
                        const newWidth = Math.round(parseInt(this.value) * ratio);
                        document.getElementById('customWidth').value = newWidth;
                        currentSettings.width = newWidth;
                    }
                    updatePreview();
                });

                // 保持宽高比
                document.getElementById('maintainRatio').addEventListener('change', function () {
                    currentSettings.maintainRatio = this.checked;
                });
            }

            function handleDragOver(e) {
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('uploadArea').classList.add('dragover');
            }

            function handleDragLeave(e) {
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('uploadArea').classList.remove('dragover');
            }

            function handleFileDrop(e) {
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('uploadArea').classList.remove('dragover');

                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    processFile(files[0]);
                }
            }

            function handleFileSelect(e) {
                const file = e.target.files[0];
                if (file) {
                    processFile(file);
                }
            }

            function processFile(file) {
                if (!file.type.startsWith('image/')) {
                    alert('请选择有效的图片文件！');
                    return;
                }

                if (file.size > 10 * 1024 * 1024) {
                    alert('文件大小不能超过 10MB！');
                    return;
                }

                const reader = new FileReader();
                reader.onload = function (e) {
                    loadImage(e.target.result, file);
                };
                reader.readAsDataURL(file);
            }

            function loadImage(src, file) {
                const img = new Image();
                img.onload = function () {
                    originalImage = img;

                    // 显示预览
                    const previewImg = document.getElementById('previewImage');
                    previewImg.src = src;

                    // 更新信息
                    document.getElementById('originalSize').textContent = `${img.width} × ${img.height}`;
                    document.getElementById('fileSize').textContent = formatFileSize(file.size);

                    // 设置默认自定义尺寸
                    document.getElementById('customWidth').value = img.width;
                    document.getElementById('customHeight').value = img.height;
                    currentSettings.width = img.width;
                    currentSettings.height = img.height;

                    // 显示工作区
                    document.getElementById('workspace').classList.remove('hidden');

                    updatePreview();
                };
                img.src = src;
            }

            function updatePreview() {
                if (!originalImage) return;

                let outputWidth, outputHeight;

                if (currentSettings.sizeMode === 'original') {
                    outputWidth = originalImage.width;
                    outputHeight = originalImage.height;
                } else if (currentSettings.sizeMode === 'custom') {
                    outputWidth = currentSettings.width || originalImage.width;
                    outputHeight = currentSettings.height || originalImage.height;
                } else {
                    outputWidth = currentSettings.width;
                    outputHeight = currentSettings.height;
                }

                document.getElementById('outputSize').textContent = `${outputWidth} × ${outputHeight}`;

                // 估算文件大小
                const compressionRatio = currentSettings.quality / 100;
                const pixelCount = outputWidth * outputHeight;
                let estimatedBytes;

                switch (currentSettings.format) {
                    case 'png':
                        estimatedBytes = pixelCount * 4 * 0.8; // PNG 压缩率
                        break;
                    case 'jpg':
                        estimatedBytes = pixelCount * 3 * compressionRatio * 0.3;
                        break;
                    case 'webp':
                        estimatedBytes = pixelCount * 3 * compressionRatio * 0.25;
                        break;
                    default:
                        estimatedBytes = pixelCount * 3 * compressionRatio * 0.5;
                }

                document.getElementById('estimatedSize').textContent = formatFileSize(estimatedBytes);
            }

            function convertImage() {
                if (!originalImage) {
                    alert('请先上传图片！');
                    return;
                }

                showLoading(true);

                setTimeout(() => {
                    try {
                        const canvas = document.getElementById('processCanvas');
                        const ctx = canvas.getContext('2d');

                        let outputWidth, outputHeight;

                        if (currentSettings.sizeMode === 'original') {
                            outputWidth = originalImage.width;
                            outputHeight = originalImage.height;
                        } else if (currentSettings.sizeMode === 'custom') {
                            outputWidth = currentSettings.width || originalImage.width;
                            outputHeight = currentSettings.height || originalImage.height;
                        } else {
                            outputWidth = currentSettings.width;
                            outputHeight = currentSettings.height;
                        }

                        canvas.width = outputWidth;
                        canvas.height = outputHeight;

                        // 使用高质量缩放
                        ctx.imageSmoothingEnabled = true;
                        ctx.imageSmoothingQuality = 'high';

                        // 绘制图片
                        ctx.drawImage(originalImage, 0, 0, outputWidth, outputHeight);

                        // 转换格式并下载
                        const mimeType = getMimeType(currentSettings.format);
                        const quality = currentSettings.quality / 100;

                        canvas.toBlob(function (blob) {
                            const url = URL.createObjectURL(blob);
                            const link = document.createElement('a');
                            link.download = `converted_image.${currentSettings.format}`;
                            link.href = url;
                            link.click();

                            URL.revokeObjectURL(url);
                            showLoading(false);

                            // 显示成功消息
                            // alert('图片转换完成！文件已下载。');
                        }, mimeType, quality);

                    } catch (error) {
                        console.error('转换失败:', error);
                        alert('转换失败，请重试！');
                        showLoading(false);
                    }
                }, 500);
            }

            function getMimeType(format) {
                const mimeTypes = {
                    'png': 'image/png',
                    'jpg': 'image/jpeg',
                    'gif': 'image/gif',
                    'bmp': 'image/bmp',
                    'webp': 'image/webp',
                    'ico': 'image/x-icon'
                };
                return mimeTypes[format] || 'image/png';
            }

            function resetSettings() {
                // 重置为默认设置
                currentSettings = {
                    format: 'png',
                    width: originalImage ? originalImage.width : null,
                    height: originalImage ? originalImage.height : null,
                    quality: 90,
                    maintainRatio: true,
                    sizeMode: 'original'
                };

                // 重置UI
                document.querySelectorAll('.format-btn').forEach(btn => {
                    btn.classList.remove('selected');
                    if (btn.getAttribute('data-format') === 'png') {
                        btn.classList.add('selected');
                    }
                });

                document.querySelectorAll('.size-btn').forEach(btn => {
                    btn.classList.remove('selected');
                    if (btn.getAttribute('data-size') === 'original') {
                        btn.classList.add('selected');
                    }
                });

                document.getElementById('qualitySlider').value = 90;
                document.getElementById('qualityPercent').textContent = '90%';
                document.getElementById('qualityValue').textContent = '90%';
                document.getElementById('maintainRatio').checked = true;
                document.getElementById('customSizeInputs').style.display = 'none';

                if (originalImage) {
                    document.getElementById('customWidth').value = originalImage.width;
                    document.getElementById('customHeight').value = originalImage.height;
                }

                updatePreview();
            }

            function showLoading(show) {
                const loading = document.getElementById('loading');
                const progressFill = document.getElementById('progressFill');

                if (show) {
                    loading.classList.remove('hidden');
                    // 模拟进度
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += 10;
                        progressFill.style.width = progress + '%';
                        if (progress >= 100) {
                            clearInterval(interval);
                        }
                    }, 50);
                } else {
                    loading.classList.add('hidden');
                    progressFill.style.width = '0%';
                }
            }

            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            // 根据不同语言显示不同页面内容
            (function () {
                const userLang = navigator.language || navigator.userLanguage;
                // console.log('User language:', navigator.language,navigator.userLanguage);

                if (userLang == 'zh') {
                    // 动态显示快捷内容
                    document.querySelectorAll('.controle-zh').forEach(el => el.style.display = 'block');
                    document.querySelectorAll('.controle-en').forEach(el => el.style.display = 'none');
                    // 动态修改 标题title
                    document.title = "在线图片格式转换工具 - JPG/PNG/GIF/WEBP互转 | 免费图片转换器";
                } else {
                    document.querySelectorAll('.controle-zh').forEach(el => el.style.display = 'none');
                    document.querySelectorAll('.controle-en').forEach(el => el.style.display = 'block');
                    // 动态修改 标题title
                    document.title = "Online Image Format Converter - JPG/PNG/GIF/WEBP Conversion | Free Image Converter";
                }
            })();

              (function () {
                    const btn = document.getElementById('toggleLang');
                    const label = document.getElementById('langLabel');
                    const flag = document.getElementById('langFlag');
                    const state = document.getElementById('langState');
                    const userLang = navigator.language || navigator.userLanguage;

                    function showLang(lang) {
                        if (lang === 'en') {
                            document.querySelectorAll('.controle-zh').forEach(el => el.style.display = 'none');
                            document.querySelectorAll('.controle-en').forEach(el => el.style.display = 'block');
                            document.body.classList.add('lang-en');
                            label.textContent = 'English';
                            flag.style.background = 'linear-gradient(90deg,#00247d 0%,#cf142b 100%)';
                            state.textContent = 'EN';
                            localStorage.setItem('site_lang', 'en');
                    document.title = "Online Image Format Converter - JPG/PNG/GIF/WEBP Conversion | Free Image Converter";

                        } else {
                            document.querySelectorAll('.controle-zh').forEach(el => el.style.display = 'block');
                            document.querySelectorAll('.controle-en').forEach(el => el.style.display = 'none');
                            document.body.classList.remove('lang-en');
                            label.textContent = '中文';
                            flag.style.background = 'linear-gradient(90deg,#de2910 0%,#de2910 100%)';
                            state.textContent = '中';
                            localStorage.setItem('site_lang', 'zh');
                            document.title = "在线图片格式转换工具 - JPG/PNG/GIF/WEBP互转 | 免费图片转换器";
                        }
                    }

                    // read saved preference first
                    const saved = localStorage.getItem('site_lang') || userLang;
                    if (saved) showLang(saved);

                    btn.addEventListener('click', function () {
                        const currentlyEn = document.body.classList.contains('lang-en');
                        showLang(currentlyEn ? 'zh' : 'en');
                        // small click feedback
                        btn.animate([{ transform: 'translateY(0)' }, { transform: 'translateY(-4px)' }, { transform: 'translateY(0)' }], { duration: 220 });
                    });

                    // keep toggle in sync if other code sets initial display (on load)
                    document.addEventListener('DOMContentLoaded', function () {
                        // if saved not present, leave existing auto-detect but update button UI
                        if (!saved) {
                            const enVisible = Array.from(document.querySelectorAll('.controle-en')).some(el => getComputedStyle(el).display !== 'none');
                            showLang(enVisible ? 'en' : 'zh');
                        }
                    });
                })();

        </script>
    </body>

</html>