<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- 核心SEO标签 -->
        <title>证件照换底色在线工具 - 免费一键抠图换背景 | 在线PS编辑器</title>
        <meta name="description" content="免费在线证件照换底色工具，支持红底、蓝底、白底一键切换。智能抠图功能，自动识别人像背景。无需下载，浏览器直接使用，专业效果秒出图。">
        <meta name="keywords" content="证件照换底色,在线抠图,证件照背景色,红底证件照,蓝底证件照,白底证件照,免费抠图工具,在线换背景,证件照制作,智能抠图">
        <meta name="msvalidate.01" content="97F6D7DD36A7B4E56F0102B6309D51A5" />
        <meta name="baidu-site-verification" content="codeva-eQdNCfah8l" />
        <meta name="google-adsense-account" content="ca-pub-9838451060216175">
        <!-- 作者和版权 -->
        <meta name="author" content="在线PS编辑器">
        <meta name="copyright" content="免费使用">
        <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large">

        <!-- 地理和语言 -->
        <meta name="language" content="zh-CN">
        <meta name="geo.region" content="CN">
        <meta name="geo.country" content="China">

        <!-- 移动优化 -->
        <meta name="format-detection" content="telephone=no">
        <meta name="applicable-device" content="pc,mobile">

        <!-- 页面主题色 -->
        <meta name="theme-color" content="#4ECDC4">
        <meta name="msapplication-TileColor" content="#4ECDC4">

        <!-- 社交媒体优化 -->
        <meta property="og:title" content="证件照换底色在线工具 - 免费一键抠图换背景">
        <meta property="og:description" content="免费在线证件照换底色，支持红蓝白底一键切换，智能抠图功能">
        <meta property="og:type" content="website">
        <meta property="og:url" content="http://zaixianps.top/zjz.html">
        <meta property="og:image" content="http://zaixianps.top/images/zjz-preview.jpg">
        <meta property="og:site_name" content="在线PS编辑器">
        <meta property="og:locale" content="zh_CN">

        <!-- Twitter卡片 -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="证件照换底色在线工具">
        <meta name="twitter:description" content="免费在线证件照换底色，支持红蓝白底一键切换">
        <meta name="twitter:image" content="http://zaixianps.top/images/zjz-preview.jpg">

        <!-- Canonical URL -->
        <link rel="canonical" href="http://zaixianps.top/zjz.html">

        <!-- 图标 -->
        <link rel="icon" type="image/png" href="/images/favicon.png">
        <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">

        <!-- 预加载关键资源 -->
        <link rel="preload" href="/fonts/MicrosoftYaHei.woff2" as="font" type="font/woff2" crossorigin>

        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({ id: "3NS3cErz0NGDEmjU", ck: "3NS3cErz0NGDEmjU" })</script>

        <!-- 结构化数据 -->
        <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "证件照换底色工具",
        "description": "免费在线证件照换底色工具，支持红底、蓝底、白底一键切换",
        "url": "http://zaixianps.top/zjz.html",
        "applicationCategory": "GraphicsApplication",
        "operatingSystem": "Any",
        "permissions": "browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "CNY"
        },
        "featureList": [
            "证件照换底色",
            "红底证件照",
            "蓝底证件照", 
            "白底证件照",
            "智能抠图",
            "一键换背景",
            "自定义颜色"
        ],
        "screenshot": "http://zaixianps.top/images/zjz-screenshot.jpg",
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "ratingCount": "856"
        },
        "breadcrumb": {
            "@type": "BreadcrumbList",
            "itemListElement": [
                {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "首页",
                    "item": "http://zaixianps.top/"
                },
                {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "证件照换底色",
                    "item": "http://zaixianps.top/zjz.html"
                }
            ]
        }
    }
    </script>

        <style>
            /* 导航样式 */
            .site-navigation {
                background: rgba(255, 255, 255, 0.95);
                padding: 15px 0;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                position: sticky;
                top: 0;
                z-index: 1000;
            }

            .nav-container {
                max-width: 1200px;
                margin: 0 auto;
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0 20px;
            }

            .nav-logo {
                font-size: 1.5em;
                font-weight: 700;
                color: #4ECDC4;
                text-decoration: none;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .nav-links {
                display: flex;
                gap: 30px;
                list-style: none;
                margin: 0;
                padding: 0;
            }

            .nav-links a {
                color: #333;
                text-decoration: none;
                font-weight: 500;
                transition: color 0.3s ease;
            }

            .nav-links a:hover {
                color: #4ECDC4;
            }

            .nav-links .active {
                color: #4ECDC4;
                font-weight: 600;
            }

            /* 面包屑导航 */
            .breadcrumb {
                background: #f8f9fa;
                padding: 12px 0;
                font-size: 14px;
            }

            .breadcrumb-container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 20px;
            }

            .breadcrumb a {
                color: #666;
                text-decoration: none;
            }

            .breadcrumb a:hover {
                color: #4ECDC4;
            }

            .breadcrumb span {
                color: #333;
                font-weight: 500;
            }

            /* SEO内容区域 */
            .seo-content {
                background: #f8f9fa;
                padding: 40px 0;
                margin-top: 50px;
            }

            .seo-container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 20px;
            }

            .seo-grid {
                display: grid;
                grid-template-columns: 2fr 1fr;
                gap: 40px;
                margin-top: 30px;
            }

            .feature-list {
                list-style: none;
                padding: 0;
            }

            .feature-list li {
                padding: 12px 0;
                border-bottom: 1px solid #eee;
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .feature-icon {
                width: 20px;
                height: 20px;
                background: #4ECDC4;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 12px;
            }

            .related-tools {
                background: white;
                padding: 25px;
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            .related-tools h3 {
                color: #333;
                margin-bottom: 20px;
            }

            .tool-link {
                display: block;
                padding: 12px 15px;
                margin-bottom: 10px;
                background: #f8f9fa;
                border-radius: 8px;
                text-decoration: none;
                color: #333;
                transition: all 0.3s ease;
            }

            .tool-link:hover {
                background: #4ECDC4;
                color: white;
                transform: translateX(5px);
            }

            /* 原有样式保持不变 */
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Microsoft YaHei', Arial, sans-serif;
                background: linear-gradient(135deg, #c0c0c0 0%, #808080 50%, #a8a8a8 100%);
                min-height: 100vh;
                line-height: 1.6;
                color: #333;
            }

            /* ...existing styles... */
            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: white;
                border-radius: 15px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
                overflow: hidden;
                margin-top: 10px;
            }

            .header {
                background: linear-gradient(45deg, #00ff77, #4ECDC4);
                color: white;
                padding: 30px;
                text-align: center;
            }

            .header h1 {
                font-size: 2.5em;
                margin-bottom: 10px;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            }

            .header p {
                font-size: 1.2em;
                opacity: 0.9;
            }

            .main-content {
                padding: 40px;
            }

            .upload-section {
                border: 3px dashed #ddd;
                border-radius: 10px;
                padding: 40px;
                text-align: center;
                margin-bottom: 30px;
                transition: all 0.3s ease;
                cursor: pointer;
            }

            .upload-section:hover {
                border-color: #4ECDC4;
                background-color: #f9f9f9;
            }

            .upload-section.dragover {
                border-color: #FF6B6B;
                background-color: #ffe6e6;
            }

            .upload-icon {
                font-size: 4em;
                color: #ddd;
                margin-bottom: 20px;
            }

            .workspace {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 30px;
                margin-top: 30px;
            }

            .image-panel {
                background: #f8f9fa;
                border-radius: 10px;
                padding: 20px;
                text-align: center;
            }

            .image-container {
                background: white;
                border-radius: 8px;
                padding: 20px;
                margin-bottom: 20px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                min-height: 300px;
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
            }

            .preview-image {
                max-width: 100%;
                max-height: 400px;
                border-radius: 5px;
            }

            .controls {
                margin-top: 30px;
            }

            .control-group {
                background: white;
                border-radius: 10px;
                padding: 25px;
                margin-bottom: 20px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            .control-group h3 {
                color: #333;
                margin-bottom: 20px;
                font-size: 1.3em;
                border-bottom: 2px solid #4ECDC4;
                padding-bottom: 10px;
            }

            .color-options {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                gap: 15px;
                margin-bottom: 20px;
            }

            .color-btn {
                width: 80px;
                height: 80px;
                border: 3px solid #ddd;
                border-radius: 10px;
                cursor: pointer;
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
            }

            .color-btn:hover {
                transform: scale(1.1);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            }

            .color-btn.selected {
                border-color: #FF6B6B;
                transform: scale(1.1);
            }

            .color-btn::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                height: 25px;
                background: rgba(0, 0, 0, 0.7);
                color: white;
                font-size: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .color-white {
                background: #FFFFFF;
            }

            .color-white::after {
                content: '白底';
            }

            .color-red {
                background: #FF4757;
            }

            .color-red::after {
                content: '红底';
            }

            .color-blue {
                background: #3742FA;
            }

            .color-blue::after {
                content: '蓝底';
            }

            .color-gray {
                background: #747D8C;
            }

            .color-gray::after {
                content: '灰底';
            }

            .custom-color {
                display: flex;
                align-items: center;
                gap: 15px;
                margin-top: 15px;
            }

            .custom-color input[type="color"] {
                width: 60px;
                height: 40px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
            }

            .btn {
                background: linear-gradient(45deg, #4ECDC4, #44A08D);
                color: white;
                border: none;
                padding: 15px 30px;
                border-radius: 25px;
                cursor: pointer;
                font-size: 1.1em;
                font-weight: 600;
                transition: all 0.3s ease;
                text-transform: uppercase;
                letter-spacing: 1px;
            }

            .btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            }

            .btn-primary {
                background: linear-gradient(45deg, #FF6B6B, #EE5A52);
            }

            .btn-success {
                background: linear-gradient(45deg, #2ECC71, #27AE60);
            }

            .btn-export {
                background: linear-gradient(45deg, #9b59b6, #8e44ad);
            }

            .tolerance-control {
                margin: 20px 0;
            }

            .tolerance-control label {
                display: block;
                margin-bottom: 10px;
                font-weight: 600;
                color: #555;
            }

            .tolerance-control input[type="range"] {
                width: 100%;
                height: 6px;
                border-radius: 3px;
                background: #ddd;
                outline: none;
            }

            .hidden {
                display: none;
            }

            .loading {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(255, 255, 255, 0.9);
                padding: 20px;
                border-radius: 10px;
                text-align: center;
            }

            .spinner {
                width: 40px;
                height: 40px;
                border: 4px solid #f3f3f3;
                border-top: 4px solid #4ECDC4;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin: 0 auto 10px;
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }

                100% {
                    transform: rotate(360deg);
                }
            }

            @media (max-width: 768px) {
                .workspace {
                    grid-template-columns: 1fr;
                }

                .color-options {
                    grid-template-columns: repeat(4, 1fr);
                }

                .nav-links {
                    display: none;
                }

                .seo-grid {
                    grid-template-columns: 1fr;
                }
            }

            /* prettier language toggle */
            .language-toggle {
                position: absolute;
                bottom: 40vh;
                right: 18px;
                z-index: 1001;
                font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            }

            .language-toggle button {
                display: inline-flex;
                align-items: center;
                gap: 10px;
                padding: 8px 14px;
                border-radius: 999px;
                border: none;
                cursor: pointer;
                color: #fff;
                background: linear-gradient(90deg, #09f980 0%, #42d5b8 100%);
                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.18);
                font-weight: 600;
                font-size: 14px;
                transition: transform .15s ease, box-shadow .15s ease, opacity .12s ease;
            }

            .language-toggle button:hover {
                transform: translateY(-3px);
                box-shadow: 0 14px 30px rgba(102, 126, 234, 0.22);
            }

            .language-toggle .flag {
                width: 18px;
                height: 12px;
                border-radius: 2px;
                flex: 0 0 auto;
                box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12) inset;
            }

            .language-toggle .label {
                white-space: nowrap;
            }

            /* small state indicator */
            .language-toggle .pill {
                background: rgba(255, 255, 255, 0.12);
                padding: 4px 6px;
                border-radius: 8px;
                font-size: 12px;
                color: rgba(255, 255, 255, 0.95);
            }

            /* when english active */
            body.lang-en .language-toggle button {
                background: linear-gradient(90deg, #22c1c3 0%, #4ca1af 100%);
                box-shadow: 0 8px 20px rgba(34, 193, 195, 0.16);
            }

            /* ensure focus accessibility */
            .language-toggle button:focus {
                outline: 3px solid rgba(102, 126, 234, 0.18);
                outline-offset: 3px;
            }
        </style>
    </head>

    <body>
        <!-- 添加一个中英文切换按钮 -->
        <div class="language-toggle">
            <button id="toggleLang" aria-label="切换语言 / Toggle language" type="button">
                <span class="flag" id="langFlag" style="background: linear-gradient(90deg,#de2910 0%,#de2910 100%);"></span>
                <span class="label" id="langLabel">中文</span>
                <span class="pill" id="langState">切换</span>
            </button>
        </div>

        <!-- 顶部导航 -->
        <div class="controle-zh">
            <nav class="site-navigation">
                <div class="nav-container">
                    <a href="/" class="nav-logo">🎨 在线PS编辑器</a>
                    <ul class="nav-links">
                        <li><a href="/">在线编辑</a></li>
                        <li><a href="/zjz.html" class="active">证件照换底色</a></li>
                        <li><a href="/translation.html">图片转换</a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="controle-en">
            <nav class="site-navigation">
                <div class="nav-container">
                    <a href="/" class="nav-logo">🎨 Online PS Editor</a>
                    <ul class="nav-links">
                        <li><a href="/">Online Editing</a></li>
                        <li><a href="/zjz.html" class="active">ID Photo Background Change</a></li>
                        <li><a href="/translation.html">Image Conversion</a></li>
                    </ul>
                </div>
            </nav>
        </div>


        <!-- 面包屑导航 -->
        <div class="controle-zh">
            <nav class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
                <div class="breadcrumb-container">
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <a itemprop="item" href="/"><span itemprop="name">首页</span></a>
                        <meta itemprop="position" content="1" />
                    </span> >
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <span itemprop="name">证件照换底色</span>
                        <meta itemprop="position" content="2" />
                    </span>
                </div>
            </nav>
        </div>
        <div class="controle-en">
            <nav class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
                <div class="breadcrumb-container">
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <a itemprop="item" href="/"><span itemprop="name">Home</span></a>
                        <meta itemprop="position" content="1" />
                    </span> >
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <span itemprop="name">ID Photo Background Change</span>
                        <meta itemprop="position" content="2" />
                    </span>
                </div>
            </nav>
        </div>

        <div class="container">
            <header class="header">
                <div class="controle-zh">
                    <h1>🎨 证件照换底色工具</h1>
                    <p>智能抠图换背景 - 红底、蓝底、白底一键切换 - 专业、快速、免费</p>
                </div>
                <div class="controle-en">
                    <h1>🎨 ID Photo Background Change Tool</h1>
                    <p>Intelligent background removal - One-click switch between red, blue, and white backgrounds - Professional, fast, and free</p>
                </div>

            </header>

            <main class="main-content">
                <!-- 文件上传区域 -->
                <section class="upload-section" id="uploadArea">
                    <div class="upload-icon">📁</div>
                    <div class="controle-zh">
                        <h2>点击或拖拽上传证件照</h2>
                        <p>支持 JPG、PNG、GIF、BMP 等格式，自动识别人像背景</p>
                    </div>
                    <div class="controle-en">
                        <h2>Click or drag to upload ID photo</h2>
                        <p>Supports JPG, PNG, GIF, BMP, etc. Automatically recognizes human portrait background</p>
                    </div>

                    <input type="file" id="fileInput" accept="image/*" class="hidden">
                </section>

                <!-- 工作区域 -->
                <section class="workspace hidden" id="workspace">
                    <!-- 原图预览 -->
                    <div class="image-panel">
                        <div class="controle-zh">
                            <h3>📷 原图预览</h3>
                        </div>
                        <div class="controle-en">
                            <h3>📷 Original Image Preview</h3>
                        </div>
                        <div class="image-container">
                            <img id="originalImage" class="preview-image" alt="证件照原图预览">
                        </div>
                    </div>

                    <!-- 处理结果 -->
                    <div class="image-panel">
                         <div class="controle-zh">
                            <h3>✨ 换底色结果</h3>
                        </div>
                        <div class="controle-en">
                            <h3>✨ Background Change Result</h3>
                        </div>
                        <div class="image-container">
                            <canvas id="resultCanvas" class="preview-image"></canvas>
                            <div class="loading hidden" id="loading">
                                <div class="spinner"></div>
                                <p>正在处理中...</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 控制面板 -->
                <section class="controls hidden" id="controls">
                    <!-- 证件照换底色 -->
                    <div class="control-group">
                         <div class="controle-zh">
                            <h3>🎯 证件照背景颜色选择</h3>
                        </div>
                        <div class="controle-en">
                            <h3>🎯 ID Photo Background Color Selection</h3>
                        </div>
                        <div class="color-options">
                            <div class="color-btn color-white" data-color="#FFFFFF" title="白底证件照"></div>
                            <div class="color-btn color-red" data-color="#FF4757" title="红底证件照"></div>
                            <div class="color-btn color-blue" data-color="#3742FA" title="蓝底证件照"></div>
                            <div class="color-btn color-gray" data-color="#747D8C" title="灰底证件照"></div>
                        </div>
                        <div class="custom-color">
                            <div class="controle-zh">
                                <label>自定义颜色:</label>
                            </div>
                            <div class="controle-en">
                                <label>Custom Color:</label>
                            </div>

                            <input type="color" id="customColor" value="#FFFFFF">
                            <button class="btn" onclick="changeBackground(document.getElementById('customColor').value)">
                                <div class="controle-zh">
                                    应用自定义颜色
                                </div>
                                <div class="controle-en">
                                    Apply Custom Color
                                </div>
                            </button>
                        </div>
                        <div class="tolerance-control">
                            <label>
                                <span class="controle-zh">
                                    背景识别精度:
                                </span>
                                <span class="controle-en">
                                    Background Recognition Accuracy:
                                </span>
                                <span id="toleranceValue">30</span></label>
                            <input type="range" id="tolerance" min="10" max="100" value="30">
                        </div>
                    </div>

                    <!-- 一键抠图 -->
                    <div class="control-group">
                        <span class="controle-zh">
                            <h3>✂️ 一键智能抠图</h3>
                        </span>
                        <span class="controle-en">
                            <h3>✂️ One-Click Smart Cutout</h3>
                        </span>

                        <p style="color: #666; margin-bottom: 15px;">
                            <span class="controle-zh">
                                自动识别人像主体并移除背景，生成透明背景图片

                            </span>
                            <span class="controle-en">
                                Automatically identifies the subject and removes the background, generating a transparent background image.
                            </span>
                            </span>
                        </p>
                        <button class="btn btn-primary" onclick="smartCutout()">
                            <span class="controle-zh">
                        🎯  开始抠图
                            </span>
                            <span class="controle-en">
                        🎯   Start Cutout
                            </span>
                            </button>
                        <div class="tolerance-control">
                            <label>
                                <span class="controle-zh">
                                    抠图精度:
                                </span>
                                <span class="controle-en">
                                    Cutout Accuracy:
                                </span>
                                 <span id="cutoutToleranceValue">25</span></label>
                            <input type="range" id="cutoutTolerance" min="5" max="50" value="25">
                        </div>
                    </div>

                    <!-- 导出功能 -->
                    <div class="control-group">
                        <h3>
                            <span class="controle-zh">
                            💾 导出设置:
                            </span>
                            <span class="controle-en">
                                💾 Export Options
                            </span>
                            </h3>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <button class="btn btn-success" onclick="exportImage('png')">
                                <span class="controle-zh">
                                    📥 导出 PNG
                                </span>
                                <span class="controle-en">
                                📥   Export PNG
                                </span>
                                
                                </button>
                            <button class="btn btn-success" onclick="exportImage('jpg')">
                                <span class="controle-zh">
                                📥   导出 JPG
                                </span>
                                <span class="controle-en">
                                📥  Export JPG
                                </span>
                            </button>
                            <button class="btn btn-export" onclick="resetImage()">
                                <span class="controle-zh">
                                🔄   重置图片
                                </span>
                                <span class="controle-en">
                                🔄  Reset Image
                                </span>
                                </button>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- SEO优化内容区域 -->
        <div class="controle-zh">
            <section class="seo-content">
                <div class="seo-container">
                    <h2>证件照换底色工具 - 专业在线处理</h2>
                    <p>免费在线证件照换底色工具，支持红底、蓝底、白底证件照一键切换。采用智能AI算法，自动识别人像背景，换底色效果自然真实。无需下载安装任何软件，打开浏览器即可使用。</p>
            
                    <div class="seo-grid">
                        <div>
                            <h3>主要功能特色</h3>
                            <ul class="feature-list">
                                <li><span class="feature-icon">✓</span><strong>智能换底色</strong> - 一键切换红底、蓝底、白底证件照</li>
                                <li><span class="feature-icon">✓</span><strong>AI智能抠图</strong> - 自动识别人像边缘，抠图效果专业</li>
                                <li><span class="feature-icon">✓</span><strong>自定义颜色</strong> - 支持任意背景颜色设置</li>
                                <li><span class="feature-icon">✓</span><strong>精度调节</strong> - 可调节背景识别精度，适应不同图片</li>
                                <li><span class="feature-icon">✓</span><strong>多格式支持</strong> - 支持PNG、JPG等多种格式导出</li>
                                <li><span class="feature-icon">✓</span><strong>免费使用</strong> - 完全免费，无水印，无限制使用</li>
                            </ul>
            
                            <h3>适用场景</h3>
                            <p>适合各种证件照制作需求：身份证照片、护照照片、驾驶证照片、学生证照片、工作证照片、简历照片等。不同机构对证件照背景色要求不同，我们的工具可以快速满足各种需求。</p>
                        </div>
            
                        <aside class="related-tools">
                            <h3>🔧 相关工具</h3>
                            <a href="/" class="tool-link">🎨 在线PS编辑器</a>
                            <a href="/translation.html" class="tool-link">🔄 图片格式转换</a>
                            <a href="#" class="tool-link">📏 证件照尺寸调整</a>
                            <a href="#" class="tool-link">🖼️ 图片压缩工具</a>
                        </aside>
                    </div>
                </div>
            </section>
        </div>
        <!-- 英文区域 -->
        <div class="controle-en">
            <section class="seo-content">
                <div class="seo-container">
                    <h2>ID Photo Background Color Change Tool - Professional Online Processing</h2>
                    <p>Free online ID photo background color change tool, supporting one-click switching of red, blue, and white ID photos. Using intelligent AI algorithms, it automatically recognizes the background of the portrait, and the background color change effect is natural and realistic. No software installation is required, just open the browser to use.</p>
        
                    <div class="seo-grid">
                        <div>
                            <h3>Key Features</h3>
                            <ul class="feature-list">
                                <li><span class="feature-icon">✓</span><strong>Intelligent Background Color Change</strong> - One-click switching of red, blue, and white ID photos</li>
                                <li><span class="feature-icon">✓</span><strong>AI Smart Cutout</strong> - Automatically recognizes the edges of the portrait, professional cutout effect</li>
                                <li><span class="feature-icon">✓</span><strong>Custom Color</strong> - Supports any background color setting</li>
                                <li><span class="feature-icon">✓</span><strong>Precision Adjustment</strong> - Adjustable background recognition precision to adapt to different images</li>
                                <li><span class="feature-icon">✓</span><strong>Multi-Format Support</strong> - Supports exporting in various formats such as PNG, JPG, etc.</li>
                                <li><span class="feature-icon">✓</span><strong>Free to Use</strong> - Completely free, no watermarks, no usage restrictions</li>
                            </ul>

                            <h3>Applicable Scenarios</h3>
                            <p>Suitable for various ID photo production needs: ID card photos, passport photos, driver's license photos, student ID photos, work ID photos, resume photos, etc. Different institutions have different requirements for ID photo background colors, and our tool can quickly meet various needs.</p>
                        </div>
        
                        <aside class="related-tools">
                            <h3>🔧 Related Tools</h3>
                            <a href="/" class="tool-link">🎨 Online PS Editor</a>
                            <a href="/translation.html" class="tool-link">🔄 Image Format Converter</a>
                            <a href="#" class="tool-link">📏 ID Photo Size Adjustment</a>
                            <a href="#" class="tool-link">🖼️ Image Compression Tool</a>
                        </aside>
                    </div>
                </div>
            </section>
        </div>

        <!-- 原有JavaScript代码保持不变 -->
        <script>
            let originalImageData = null;
            let currentCanvas = null;
            let currentCtx = null;

            // 初始化
            document.addEventListener('DOMContentLoaded', function () {
                initializeApp();
            });

            function initializeApp() {
                const uploadArea = document.getElementById('uploadArea');
                const fileInput = document.getElementById('fileInput');
                const toleranceSlider = document.getElementById('tolerance');
                const toleranceValue = document.getElementById('toleranceValue');
                const cutoutToleranceSlider = document.getElementById('cutoutTolerance');
                const cutoutToleranceValue = document.getElementById('cutoutToleranceValue');

                // 上传区域点击事件
                uploadArea.addEventListener('click', () => fileInput.click());

                // 文件选择事件
                fileInput.addEventListener('change', handleFileSelect);

                // 拖拽事件
                uploadArea.addEventListener('dragover', handleDragOver);
                uploadArea.addEventListener('dragleave', handleDragLeave);
                uploadArea.addEventListener('drop', handleFileDrop);

                // 滑块事件
                toleranceSlider.addEventListener('input', (e) => {
                    toleranceValue.textContent = e.target.value;
                });

                cutoutToleranceSlider.addEventListener('input', (e) => {
                    cutoutToleranceValue.textContent = e.target.value;
                });

                // 颜色按钮事件
                document.querySelectorAll('.color-btn').forEach(btn => {
                    btn.addEventListener('click', function () {
                        document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('selected'));
                        this.classList.add('selected');
                        const color = this.getAttribute('data-color');
                        changeBackground(color);
                    });
                });
            }

            function handleDragOver(e) {
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('uploadArea').classList.add('dragover');
            }

            function handleDragLeave(e) {
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('uploadArea').classList.remove('dragover');
            }

            function handleFileDrop(e) {
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('uploadArea').classList.remove('dragover');

                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    processFile(files[0]);
                }
            }

            function handleFileSelect(e) {
                const file = e.target.files[0];
                if (file) {
                    processFile(file);
                }
            }

            function processFile(file) {
                if (!file.type.startsWith('image/')) {
                    alert('请选择有效的图片文件！');
                    return;
                }

                const reader = new FileReader();
                reader.onload = function (e) {
                    loadImage(e.target.result);
                };
                reader.readAsDataURL(file);
            }

            function loadImage(src) {
                const img = new Image();
                img.onload = function () {
                    const originalImage = document.getElementById('originalImage');
                    const canvas = document.getElementById('resultCanvas');
                    const ctx = canvas.getContext('2d');

                    // 设置图片
                    originalImage.src = src;

                    // 设置canvas尺寸
                    canvas.width = img.width;
                    canvas.height = img.height;

                    // 绘制原图到canvas
                    ctx.drawImage(img, 0, 0);

                    // 保存原始图像数据
                    originalImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    currentCanvas = canvas;
                    currentCtx = ctx;

                    // 显示工作区域
                    document.getElementById('workspace').classList.remove('hidden');
                    document.getElementById('controls').classList.remove('hidden');
                };
                img.src = src;
            }

            function showLoading(show) {
                const loading = document.getElementById('loading');
                if (show) {
                    loading.classList.remove('hidden');
                } else {
                    loading.classList.add('hidden');
                }
            }

            function changeBackground(newColor) {
                if (!originalImageData) {
                    alert('请先上传图片！');
                    return;
                }

                showLoading(true);

                // 使用setTimeout确保loading显示
                setTimeout(() => {
                    try {
                        const tolerance = parseInt(document.getElementById('tolerance').value);
                        const imageData = new ImageData(
                            new Uint8ClampedArray(originalImageData.data),
                            originalImageData.width,
                            originalImageData.height
                        );

                        const newColorRgb = hexToRgb(newColor);

                        // 检测背景色（四个角的平均色）
                        const bgColor = detectBackgroundColor(imageData);

                        // 替换背景色
                        replaceColor(imageData, bgColor, newColorRgb, tolerance);

                        // 应用到canvas
                        currentCtx.putImageData(imageData, 0, 0);

                        showLoading(false);
                    } catch (error) {
                        console.error('换背景失败:', error);
                        alert('换背景失败，请重试！');
                        showLoading(false);
                    }
                }, 100);
            }

            function smartCutout() {
                if (!originalImageData) {
                    alert('请先上传图片！');
                    return;
                }

                showLoading(true);

                setTimeout(() => {
                    try {
                        const tolerance = parseInt(document.getElementById('cutoutTolerance').value);
                        const imageData = new ImageData(
                            new Uint8ClampedArray(originalImageData.data),
                            originalImageData.width,
                            originalImageData.height
                        );

                        // 检测背景色
                        const bgColor = detectBackgroundColor(imageData);

                        // 将背景设为透明
                        makeBackgroundTransparent(imageData, bgColor, tolerance);

                        // 应用到canvas
                        currentCtx.clearRect(0, 0, currentCanvas.width, currentCanvas.height);
                        currentCtx.putImageData(imageData, 0, 0);

                        showLoading(false);
                    } catch (error) {
                        console.error('抠图失败:', error);
                        alert('抠图失败，请重试！');
                        showLoading(false);
                    }
                }, 100);
            }

            function detectBackgroundColor(imageData) {
                const data = imageData.data;
                const width = imageData.width;
                const height = imageData.height;

                // 取四个角的像素作为背景色参考
                const corners = [
                    { x: 0, y: 0 },
                    { x: width - 1, y: 0 },
                    { x: 0, y: height - 1 },
                    { x: width - 1, y: height - 1 }
                ];

                let totalR = 0, totalG = 0, totalB = 0;

                corners.forEach(corner => {
                    const index = (corner.y * width + corner.x) * 4;
                    totalR += data[index];
                    totalG += data[index + 1];
                    totalB += data[index + 2];
                });

                return {
                    r: Math.round(totalR / 4),
                    g: Math.round(totalG / 4),
                    b: Math.round(totalB / 4)
                };
            }

            function replaceColor(imageData, oldColor, newColor, tolerance) {
                const data = imageData.data;

                for (let i = 0; i < data.length; i += 4) {
                    const r = data[i];
                    const g = data[i + 1];
                    const b = data[i + 2];

                    const diff = Math.abs(r - oldColor.r) + Math.abs(g - oldColor.g) + Math.abs(b - oldColor.b);

                    if (diff <= tolerance) {
                        data[i] = newColor.r;
                        data[i + 1] = newColor.g;
                        data[i + 2] = newColor.b;
                    }
                }
            }

            function makeBackgroundTransparent(imageData, bgColor, tolerance) {
                const data = imageData.data;

                for (let i = 0; i < data.length; i += 4) {
                    const r = data[i];
                    const g = data[i + 1];
                    const b = data[i + 2];

                    const diff = Math.abs(r - bgColor.r) + Math.abs(g - bgColor.g) + Math.abs(b - bgColor.b);

                    if (diff <= tolerance) {
                        data[i + 3] = 0; // 设置为透明
                    }
                }
            }

            function hexToRgb(hex) {
                const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? {
                    r: parseInt(result[1], 16),
                    g: parseInt(result[2], 16),
                    b: parseInt(result[3], 16)
                } : null;
            }

            function exportImage(format) {
                if (!currentCanvas) {
                    alert('没有可导出的图片！');
                    return;
                }

                try {
                    const link = document.createElement('a');
                    const mimeType = format === 'png' ? 'image/png' : 'image/jpeg';
                    const filename = `证件照_${format}_${Date.now()}.${format}`;

                    link.download = filename;
                    link.href = currentCanvas.toDataURL(mimeType, 0.9);
                    link.click();
                } catch (error) {
                    console.error('导出失败:', error);
                    alert('导出失败，请重试！');
                }
            }

            function resetImage() {
                if (!originalImageData) {
                    alert('没有原始图片！');
                    return;
                }

                currentCtx.putImageData(originalImageData, 0, 0);

                // 重置选中状态
                document.querySelectorAll('.color-btn').forEach(btn => {
                    btn.classList.remove('selected');
                });
            }


            (function () {
                const btn = document.getElementById('toggleLang');
                const label = document.getElementById('langLabel');
                const flag = document.getElementById('langFlag');
                const state = document.getElementById('langState');
                const userLang = navigator.language || navigator.userLanguage;

                function showLang(lang) {
                    if (lang === 'en') {
                        document.querySelectorAll('.controle-zh').forEach(el => el.style.display = 'none');
                        document.querySelectorAll('.controle-en').forEach(el => el.style.display = 'block');
                        document.body.classList.add('lang-en');
                        label.textContent = 'English';
                        flag.style.background = 'linear-gradient(90deg,#00247d 0%,#cf142b 100%)';
                        state.textContent = 'EN';
                        localStorage.setItem('site_lang', 'en');
                        document.title = "Online Image Format Converter - JPG/PNG/GIF/WEBP Conversion | Free Image Converter";

                    } else {
                        document.querySelectorAll('.controle-zh').forEach(el => el.style.display = 'block');
                        document.querySelectorAll('.controle-en').forEach(el => el.style.display = 'none');
                        document.body.classList.remove('lang-en');
                        label.textContent = '中文';
                        flag.style.background = 'linear-gradient(90deg,#de2910 0%,#de2910 100%)';
                        state.textContent = '中';
                        localStorage.setItem('site_lang', 'zh');
                        document.title = "在线图片格式转换工具 - JPG/PNG/GIF/WEBP互转 | 免费图片转换器";
                    }
                }

                // read saved preference first
                const saved = localStorage.getItem('site_lang') || userLang;
                if (saved) showLang(saved);

                btn.addEventListener('click', function () {
                    const currentlyEn = document.body.classList.contains('lang-en');
                    showLang(currentlyEn ? 'zh' : 'en');
                    // small click feedback
                    btn.animate([{ transform: 'translateY(0)' }, { transform: 'translateY(-4px)' }, { transform: 'translateY(0)' }], { duration: 220 });
                });

                // keep toggle in sync if other code sets initial display (on load)
                document.addEventListener('DOMContentLoaded', function () {
                    // if saved not present, leave existing auto-detect but update button UI
                    if (!saved) {
                        const enVisible = Array.from(document.querySelectorAll('.controle-en')).some(el => getComputedStyle(el).display !== 'none');
                        showLang(enVisible ? 'en' : 'zh');
                    }
                });
            })();
        </script>
    </body>

</html>