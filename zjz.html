<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- æ ¸å¿ƒSEOæ ‡ç­¾ -->
        <title>è¯ä»¶ç…§æ¢åº•è‰²åœ¨çº¿å·¥å…· - å…è´¹ä¸€é”®æŠ å›¾æ¢èƒŒæ™¯ | åœ¨çº¿PSç¼–è¾‘å™¨</title>
        <meta name="description" content="å…è´¹åœ¨çº¿è¯ä»¶ç…§æ¢åº•è‰²å·¥å…·ï¼Œæ”¯æŒçº¢åº•ã€è“åº•ã€ç™½åº•ä¸€é”®åˆ‡æ¢ã€‚æ™ºèƒ½æŠ å›¾åŠŸèƒ½ï¼Œè‡ªåŠ¨è¯†åˆ«äººåƒèƒŒæ™¯ã€‚æ— éœ€ä¸‹è½½ï¼Œæµè§ˆå™¨ç›´æ¥ä½¿ç”¨ï¼Œä¸“ä¸šæ•ˆæœç§’å‡ºå›¾ã€‚">
        <meta name="keywords" content="è¯ä»¶ç…§æ¢åº•è‰²,åœ¨çº¿æŠ å›¾,è¯ä»¶ç…§èƒŒæ™¯è‰²,çº¢åº•è¯ä»¶ç…§,è“åº•è¯ä»¶ç…§,ç™½åº•è¯ä»¶ç…§,å…è´¹æŠ å›¾å·¥å…·,åœ¨çº¿æ¢èƒŒæ™¯,è¯ä»¶ç…§åˆ¶ä½œ,æ™ºèƒ½æŠ å›¾">
        <meta name="msvalidate.01" content="97F6D7DD36A7B4E56F0102B6309D51A5" />
        <meta name="baidu-site-verification" content="codeva-eQdNCfah8l" />
        <meta name="google-adsense-account" content="ca-pub-9838451060216175">
        <!-- ä½œè€…å’Œç‰ˆæƒ -->
        <meta name="author" content="åœ¨çº¿PSç¼–è¾‘å™¨">
        <meta name="copyright" content="å…è´¹ä½¿ç”¨">
        <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large">

        <!-- åœ°ç†å’Œè¯­è¨€ -->
        <meta name="language" content="zh-CN">
        <meta name="geo.region" content="CN">
        <meta name="geo.country" content="China">

        <!-- ç§»åŠ¨ä¼˜åŒ– -->
        <meta name="format-detection" content="telephone=no">
        <meta name="applicable-device" content="pc,mobile">

        <!-- é¡µé¢ä¸»é¢˜è‰² -->
        <meta name="theme-color" content="#4ECDC4">
        <meta name="msapplication-TileColor" content="#4ECDC4">

        <!-- ç¤¾äº¤åª’ä½“ä¼˜åŒ– -->
        <meta property="og:title" content="è¯ä»¶ç…§æ¢åº•è‰²åœ¨çº¿å·¥å…· - å…è´¹ä¸€é”®æŠ å›¾æ¢èƒŒæ™¯">
        <meta property="og:description" content="å…è´¹åœ¨çº¿è¯ä»¶ç…§æ¢åº•è‰²ï¼Œæ”¯æŒçº¢è“ç™½åº•ä¸€é”®åˆ‡æ¢ï¼Œæ™ºèƒ½æŠ å›¾åŠŸèƒ½">
        <meta property="og:type" content="website">
        <meta property="og:url" content="http://zaixianps.top/zjz.html">
        <meta property="og:image" content="http://zaixianps.top/images/zjz-preview.jpg">
        <meta property="og:site_name" content="åœ¨çº¿PSç¼–è¾‘å™¨">
        <meta property="og:locale" content="zh_CN">

        <!-- Twitterå¡ç‰‡ -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="è¯ä»¶ç…§æ¢åº•è‰²åœ¨çº¿å·¥å…·">
        <meta name="twitter:description" content="å…è´¹åœ¨çº¿è¯ä»¶ç…§æ¢åº•è‰²ï¼Œæ”¯æŒçº¢è“ç™½åº•ä¸€é”®åˆ‡æ¢">
        <meta name="twitter:image" content="http://zaixianps.top/images/zjz-preview.jpg">

        <!-- Canonical URL -->
        <link rel="canonical" href="http://zaixianps.top/zjz.html">

        <!-- å›¾æ ‡ -->
        <link rel="icon" type="image/png" href="/images/favicon.png">
        <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">

        <!-- é¢„åŠ è½½å…³é”®èµ„æº -->
        <link rel="preload" href="/fonts/MicrosoftYaHei.woff2" as="font" type="font/woff2" crossorigin>

        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({ id: "3NS3cErz0NGDEmjU", ck: "3NS3cErz0NGDEmjU" })</script>

        <!-- ç»“æ„åŒ–æ•°æ® -->
        <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "è¯ä»¶ç…§æ¢åº•è‰²å·¥å…·",
        "description": "å…è´¹åœ¨çº¿è¯ä»¶ç…§æ¢åº•è‰²å·¥å…·ï¼Œæ”¯æŒçº¢åº•ã€è“åº•ã€ç™½åº•ä¸€é”®åˆ‡æ¢",
        "url": "http://zaixianps.top/zjz.html",
        "applicationCategory": "GraphicsApplication",
        "operatingSystem": "Any",
        "permissions": "browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "CNY"
        },
        "featureList": [
            "è¯ä»¶ç…§æ¢åº•è‰²",
            "çº¢åº•è¯ä»¶ç…§",
            "è“åº•è¯ä»¶ç…§", 
            "ç™½åº•è¯ä»¶ç…§",
            "æ™ºèƒ½æŠ å›¾",
            "ä¸€é”®æ¢èƒŒæ™¯",
            "è‡ªå®šä¹‰é¢œè‰²"
        ],
        "screenshot": "http://zaixianps.top/images/zjz-screenshot.jpg",
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "ratingCount": "856"
        },
        "breadcrumb": {
            "@type": "BreadcrumbList",
            "itemListElement": [
                {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "é¦–é¡µ",
                    "item": "http://zaixianps.top/"
                },
                {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "è¯ä»¶ç…§æ¢åº•è‰²",
                    "item": "http://zaixianps.top/zjz.html"
                }
            ]
        }
    }
    </script>

        <style>
            /* å¯¼èˆªæ ·å¼ */
            .site-navigation {
                background: rgba(255, 255, 255, 0.95);
                padding: 15px 0;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                position: sticky;
                top: 0;
                z-index: 1000;
            }

            .nav-container {
                max-width: 1200px;
                margin: 0 auto;
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0 20px;
            }

            .nav-logo {
                font-size: 1.5em;
                font-weight: 700;
                color: #4ECDC4;
                text-decoration: none;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .nav-links {
                display: flex;
                gap: 30px;
                list-style: none;
                margin: 0;
                padding: 0;
            }

            .nav-links a {
                color: #333;
                text-decoration: none;
                font-weight: 500;
                transition: color 0.3s ease;
            }

            .nav-links a:hover {
                color: #4ECDC4;
            }

            .nav-links .active {
                color: #4ECDC4;
                font-weight: 600;
            }

            /* é¢åŒ…å±‘å¯¼èˆª */
            .breadcrumb {
                background: #f8f9fa;
                padding: 12px 0;
                font-size: 14px;
            }

            .breadcrumb-container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 20px;
            }

            .breadcrumb a {
                color: #666;
                text-decoration: none;
            }

            .breadcrumb a:hover {
                color: #4ECDC4;
            }

            .breadcrumb span {
                color: #333;
                font-weight: 500;
            }

            /* SEOå†…å®¹åŒºåŸŸ */
            .seo-content {
                background: #f8f9fa;
                padding: 40px 0;
                margin-top: 50px;
            }

            .seo-container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 20px;
            }

            .seo-grid {
                display: grid;
                grid-template-columns: 2fr 1fr;
                gap: 40px;
                margin-top: 30px;
            }

            .feature-list {
                list-style: none;
                padding: 0;
            }

            .feature-list li {
                padding: 12px 0;
                border-bottom: 1px solid #eee;
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .feature-icon {
                width: 20px;
                height: 20px;
                background: #4ECDC4;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 12px;
            }

            .related-tools {
                background: white;
                padding: 25px;
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            .related-tools h3 {
                color: #333;
                margin-bottom: 20px;
            }

            .tool-link {
                display: block;
                padding: 12px 15px;
                margin-bottom: 10px;
                background: #f8f9fa;
                border-radius: 8px;
                text-decoration: none;
                color: #333;
                transition: all 0.3s ease;
            }

            .tool-link:hover {
                background: #4ECDC4;
                color: white;
                transform: translateX(5px);
            }

            /* åŸæœ‰æ ·å¼ä¿æŒä¸å˜ */
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Microsoft YaHei', Arial, sans-serif;
                background: linear-gradient(135deg, #c0c0c0 0%, #808080 50%, #a8a8a8 100%);
                min-height: 100vh;
                line-height: 1.6;
                color: #333;
            }

            /* ...existing styles... */
            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: white;
                border-radius: 15px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
                overflow: hidden;
                margin-top: 10px;
            }

            .header {
                background: linear-gradient(45deg, #00ff77, #4ECDC4);
                color: white;
                padding: 30px;
                text-align: center;
            }

            .header h1 {
                font-size: 2.5em;
                margin-bottom: 10px;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            }

            .header p {
                font-size: 1.2em;
                opacity: 0.9;
            }

            .main-content {
                padding: 40px;
            }

            .upload-section {
                border: 3px dashed #ddd;
                border-radius: 10px;
                padding: 40px;
                text-align: center;
                margin-bottom: 30px;
                transition: all 0.3s ease;
                cursor: pointer;
            }

            .upload-section:hover {
                border-color: #4ECDC4;
                background-color: #f9f9f9;
            }

            .upload-section.dragover {
                border-color: #FF6B6B;
                background-color: #ffe6e6;
            }

            .upload-icon {
                font-size: 4em;
                color: #ddd;
                margin-bottom: 20px;
            }

            .workspace {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 30px;
                margin-top: 30px;
            }

            .image-panel {
                background: #f8f9fa;
                border-radius: 10px;
                padding: 20px;
                text-align: center;
            }

            .image-container {
                background: white;
                border-radius: 8px;
                padding: 20px;
                margin-bottom: 20px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                min-height: 300px;
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
            }

            .preview-image {
                max-width: 100%;
                max-height: 400px;
                border-radius: 5px;
            }

            .controls {
                margin-top: 30px;
            }

            .control-group {
                background: white;
                border-radius: 10px;
                padding: 25px;
                margin-bottom: 20px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            .control-group h3 {
                color: #333;
                margin-bottom: 20px;
                font-size: 1.3em;
                border-bottom: 2px solid #4ECDC4;
                padding-bottom: 10px;
            }

            .color-options {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                gap: 15px;
                margin-bottom: 20px;
            }

            .color-btn {
                width: 80px;
                height: 80px;
                border: 3px solid #ddd;
                border-radius: 10px;
                cursor: pointer;
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
            }

            .color-btn:hover {
                transform: scale(1.1);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            }

            .color-btn.selected {
                border-color: #FF6B6B;
                transform: scale(1.1);
            }

            .color-btn::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                height: 25px;
                background: rgba(0, 0, 0, 0.7);
                color: white;
                font-size: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .color-white {
                background: #FFFFFF;
            }

            .color-white::after {
                content: 'ç™½åº•';
            }

            .color-red {
                background: #FF4757;
            }

            .color-red::after {
                content: 'çº¢åº•';
            }

            .color-blue {
                background: #3742FA;
            }

            .color-blue::after {
                content: 'è“åº•';
            }

            .color-gray {
                background: #747D8C;
            }

            .color-gray::after {
                content: 'ç°åº•';
            }

            .custom-color {
                display: flex;
                align-items: center;
                gap: 15px;
                margin-top: 15px;
            }

            .custom-color input[type="color"] {
                width: 60px;
                height: 40px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
            }

            .btn {
                background: linear-gradient(45deg, #4ECDC4, #44A08D);
                color: white;
                border: none;
                padding: 15px 30px;
                border-radius: 25px;
                cursor: pointer;
                font-size: 1.1em;
                font-weight: 600;
                transition: all 0.3s ease;
                text-transform: uppercase;
                letter-spacing: 1px;
            }

            .btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            }

            .btn-primary {
                background: linear-gradient(45deg, #FF6B6B, #EE5A52);
            }

            .btn-success {
                background: linear-gradient(45deg, #2ECC71, #27AE60);
            }

            .btn-export {
                background: linear-gradient(45deg, #9b59b6, #8e44ad);
            }

            .tolerance-control {
                margin: 20px 0;
            }

            .tolerance-control label {
                display: block;
                margin-bottom: 10px;
                font-weight: 600;
                color: #555;
            }

            .tolerance-control input[type="range"] {
                width: 100%;
                height: 6px;
                border-radius: 3px;
                background: #ddd;
                outline: none;
            }

            .hidden {
                display: none;
            }

            .loading {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(255, 255, 255, 0.9);
                padding: 20px;
                border-radius: 10px;
                text-align: center;
            }

            .spinner {
                width: 40px;
                height: 40px;
                border: 4px solid #f3f3f3;
                border-top: 4px solid #4ECDC4;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin: 0 auto 10px;
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }

                100% {
                    transform: rotate(360deg);
                }
            }

            @media (max-width: 768px) {
                .workspace {
                    grid-template-columns: 1fr;
                }

                .color-options {
                    grid-template-columns: repeat(4, 1fr);
                }

                .nav-links {
                    display: none;
                }

                .seo-grid {
                    grid-template-columns: 1fr;
                }
            }

            /* prettier language toggle */
            .language-toggle {
                position: absolute;
                bottom: 40vh;
                right: 18px;
                z-index: 1001;
                font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            }

            .language-toggle button {
                display: inline-flex;
                align-items: center;
                gap: 10px;
                padding: 8px 14px;
                border-radius: 999px;
                border: none;
                cursor: pointer;
                color: #fff;
                background: linear-gradient(90deg, #09f980 0%, #42d5b8 100%);
                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.18);
                font-weight: 600;
                font-size: 14px;
                transition: transform .15s ease, box-shadow .15s ease, opacity .12s ease;
            }

            .language-toggle button:hover {
                transform: translateY(-3px);
                box-shadow: 0 14px 30px rgba(102, 126, 234, 0.22);
            }

            .language-toggle .flag {
                width: 18px;
                height: 12px;
                border-radius: 2px;
                flex: 0 0 auto;
                box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12) inset;
            }

            .language-toggle .label {
                white-space: nowrap;
            }

            /* small state indicator */
            .language-toggle .pill {
                background: rgba(255, 255, 255, 0.12);
                padding: 4px 6px;
                border-radius: 8px;
                font-size: 12px;
                color: rgba(255, 255, 255, 0.95);
            }

            /* when english active */
            body.lang-en .language-toggle button {
                background: linear-gradient(90deg, #22c1c3 0%, #4ca1af 100%);
                box-shadow: 0 8px 20px rgba(34, 193, 195, 0.16);
            }

            /* ensure focus accessibility */
            .language-toggle button:focus {
                outline: 3px solid rgba(102, 126, 234, 0.18);
                outline-offset: 3px;
            }
        </style>
    </head>

    <body>
        <!-- æ·»åŠ ä¸€ä¸ªä¸­è‹±æ–‡åˆ‡æ¢æŒ‰é’® -->
        <div class="language-toggle">
            <button id="toggleLang" aria-label="åˆ‡æ¢è¯­è¨€ / Toggle language" type="button">
                <span class="flag" id="langFlag" style="background: linear-gradient(90deg,#de2910 0%,#de2910 100%);"></span>
                <span class="label" id="langLabel">ä¸­æ–‡</span>
                <span class="pill" id="langState">åˆ‡æ¢</span>
            </button>
        </div>

        <!-- é¡¶éƒ¨å¯¼èˆª -->
        <div class="controle-zh">
            <nav class="site-navigation">
                <div class="nav-container">
                    <a href="/" class="nav-logo">ğŸ¨ åœ¨çº¿PSç¼–è¾‘å™¨</a>
                    <ul class="nav-links">
                        <li><a href="/">åœ¨çº¿ç¼–è¾‘</a></li>
                        <li><a href="/zjz.html" class="active">è¯ä»¶ç…§æ¢åº•è‰²</a></li>
                        <li><a href="/translation.html">å›¾ç‰‡è½¬æ¢</a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="controle-en">
            <nav class="site-navigation">
                <div class="nav-container">
                    <a href="/" class="nav-logo">ğŸ¨ Online PS Editor</a>
                    <ul class="nav-links">
                        <li><a href="/">Online Editing</a></li>
                        <li><a href="/zjz.html" class="active">ID Photo Background Change</a></li>
                        <li><a href="/translation.html">Image Conversion</a></li>
                    </ul>
                </div>
            </nav>
        </div>


        <!-- é¢åŒ…å±‘å¯¼èˆª -->
        <div class="controle-zh">
            <nav class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
                <div class="breadcrumb-container">
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <a itemprop="item" href="/"><span itemprop="name">é¦–é¡µ</span></a>
                        <meta itemprop="position" content="1" />
                    </span> >
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <span itemprop="name">è¯ä»¶ç…§æ¢åº•è‰²</span>
                        <meta itemprop="position" content="2" />
                    </span>
                </div>
            </nav>
        </div>
        <div class="controle-en">
            <nav class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
                <div class="breadcrumb-container">
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <a itemprop="item" href="/"><span itemprop="name">Home</span></a>
                        <meta itemprop="position" content="1" />
                    </span> >
                    <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                        <span itemprop="name">ID Photo Background Change</span>
                        <meta itemprop="position" content="2" />
                    </span>
                </div>
            </nav>
        </div>

        <div class="container">
            <header class="header">
                <div class="controle-zh">
                    <h1>ğŸ¨ è¯ä»¶ç…§æ¢åº•è‰²å·¥å…·</h1>
                    <p>æ™ºèƒ½æŠ å›¾æ¢èƒŒæ™¯ - çº¢åº•ã€è“åº•ã€ç™½åº•ä¸€é”®åˆ‡æ¢ - ä¸“ä¸šã€å¿«é€Ÿã€å…è´¹</p>
                </div>
                <div class="controle-en">
                    <h1>ğŸ¨ ID Photo Background Change Tool</h1>
                    <p>Intelligent background removal - One-click switch between red, blue, and white backgrounds - Professional, fast, and free</p>
                </div>

            </header>

            <main class="main-content">
                <!-- æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ -->
                <section class="upload-section" id="uploadArea">
                    <div class="upload-icon">ğŸ“</div>
                    <div class="controle-zh">
                        <h2>ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ è¯ä»¶ç…§</h2>
                        <p>æ”¯æŒ JPGã€PNGã€GIFã€BMP ç­‰æ ¼å¼ï¼Œè‡ªåŠ¨è¯†åˆ«äººåƒèƒŒæ™¯</p>
                    </div>
                    <div class="controle-en">
                        <h2>Click or drag to upload ID photo</h2>
                        <p>Supports JPG, PNG, GIF, BMP, etc. Automatically recognizes human portrait background</p>
                    </div>

                    <input type="file" id="fileInput" accept="image/*" class="hidden">
                </section>

                <!-- å·¥ä½œåŒºåŸŸ -->
                <section class="workspace hidden" id="workspace">
                    <!-- åŸå›¾é¢„è§ˆ -->
                    <div class="image-panel">
                        <div class="controle-zh">
                            <h3>ğŸ“· åŸå›¾é¢„è§ˆ</h3>
                        </div>
                        <div class="controle-en">
                            <h3>ğŸ“· Original Image Preview</h3>
                        </div>
                        <div class="image-container">
                            <img id="originalImage" class="preview-image" alt="è¯ä»¶ç…§åŸå›¾é¢„è§ˆ">
                        </div>
                    </div>

                    <!-- å¤„ç†ç»“æœ -->
                    <div class="image-panel">
                         <div class="controle-zh">
                            <h3>âœ¨ æ¢åº•è‰²ç»“æœ</h3>
                        </div>
                        <div class="controle-en">
                            <h3>âœ¨ Background Change Result</h3>
                        </div>
                        <div class="image-container">
                            <canvas id="resultCanvas" class="preview-image"></canvas>
                            <div class="loading hidden" id="loading">
                                <div class="spinner"></div>
                                <p>æ­£åœ¨å¤„ç†ä¸­...</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- æ§åˆ¶é¢æ¿ -->
                <section class="controls hidden" id="controls">
                    <!-- è¯ä»¶ç…§æ¢åº•è‰² -->
                    <div class="control-group">
                         <div class="controle-zh">
                            <h3>ğŸ¯ è¯ä»¶ç…§èƒŒæ™¯é¢œè‰²é€‰æ‹©</h3>
                        </div>
                        <div class="controle-en">
                            <h3>ğŸ¯ ID Photo Background Color Selection</h3>
                        </div>
                        <div class="color-options">
                            <div class="color-btn color-white" data-color="#FFFFFF" title="ç™½åº•è¯ä»¶ç…§"></div>
                            <div class="color-btn color-red" data-color="#FF4757" title="çº¢åº•è¯ä»¶ç…§"></div>
                            <div class="color-btn color-blue" data-color="#3742FA" title="è“åº•è¯ä»¶ç…§"></div>
                            <div class="color-btn color-gray" data-color="#747D8C" title="ç°åº•è¯ä»¶ç…§"></div>
                        </div>
                        <div class="custom-color">
                            <div class="controle-zh">
                                <label>è‡ªå®šä¹‰é¢œè‰²:</label>
                            </div>
                            <div class="controle-en">
                                <label>Custom Color:</label>
                            </div>

                            <input type="color" id="customColor" value="#FFFFFF">
                            <button class="btn" onclick="changeBackground(document.getElementById('customColor').value)">
                                <div class="controle-zh">
                                    åº”ç”¨è‡ªå®šä¹‰é¢œè‰²
                                </div>
                                <div class="controle-en">
                                    Apply Custom Color
                                </div>
                            </button>
                        </div>
                        <div class="tolerance-control">
                            <label>
                                <span class="controle-zh">
                                    èƒŒæ™¯è¯†åˆ«ç²¾åº¦:
                                </span>
                                <span class="controle-en">
                                    Background Recognition Accuracy:
                                </span>
                                <span id="toleranceValue">30</span></label>
                            <input type="range" id="tolerance" min="10" max="100" value="30">
                        </div>
                    </div>

                    <!-- ä¸€é”®æŠ å›¾ -->
                    <div class="control-group">
                        <span class="controle-zh">
                            <h3>âœ‚ï¸ ä¸€é”®æ™ºèƒ½æŠ å›¾</h3>
                        </span>
                        <span class="controle-en">
                            <h3>âœ‚ï¸ One-Click Smart Cutout</h3>
                        </span>

                        <p style="color: #666; margin-bottom: 15px;">
                            <span class="controle-zh">
                                è‡ªåŠ¨è¯†åˆ«äººåƒä¸»ä½“å¹¶ç§»é™¤èƒŒæ™¯ï¼Œç”Ÿæˆé€æ˜èƒŒæ™¯å›¾ç‰‡

                            </span>
                            <span class="controle-en">
                                Automatically identifies the subject and removes the background, generating a transparent background image.
                            </span>
                            </span>
                        </p>
                        <button class="btn btn-primary" onclick="smartCutout()">
                            <span class="controle-zh">
                        ğŸ¯  å¼€å§‹æŠ å›¾
                            </span>
                            <span class="controle-en">
                        ğŸ¯   Start Cutout
                            </span>
                            </button>
                        <div class="tolerance-control">
                            <label>
                                <span class="controle-zh">
                                    æŠ å›¾ç²¾åº¦:
                                </span>
                                <span class="controle-en">
                                    Cutout Accuracy:
                                </span>
                                 <span id="cutoutToleranceValue">25</span></label>
                            <input type="range" id="cutoutTolerance" min="5" max="50" value="25">
                        </div>
                    </div>

                    <!-- å¯¼å‡ºåŠŸèƒ½ -->
                    <div class="control-group">
                        <h3>
                            <span class="controle-zh">
                            ğŸ’¾ å¯¼å‡ºè®¾ç½®:
                            </span>
                            <span class="controle-en">
                                ğŸ’¾ Export Options
                            </span>
                            </h3>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <button class="btn btn-success" onclick="exportImage('png')">
                                <span class="controle-zh">
                                    ğŸ“¥ å¯¼å‡º PNG
                                </span>
                                <span class="controle-en">
                                ğŸ“¥   Export PNG
                                </span>
                                
                                </button>
                            <button class="btn btn-success" onclick="exportImage('jpg')">
                                <span class="controle-zh">
                                ğŸ“¥   å¯¼å‡º JPG
                                </span>
                                <span class="controle-en">
                                ğŸ“¥  Export JPG
                                </span>
                            </button>
                            <button class="btn btn-export" onclick="resetImage()">
                                <span class="controle-zh">
                                ğŸ”„   é‡ç½®å›¾ç‰‡
                                </span>
                                <span class="controle-en">
                                ğŸ”„  Reset Image
                                </span>
                                </button>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- SEOä¼˜åŒ–å†…å®¹åŒºåŸŸ -->
        <div class="controle-zh">
            <section class="seo-content">
                <div class="seo-container">
                    <h2>è¯ä»¶ç…§æ¢åº•è‰²å·¥å…· - ä¸“ä¸šåœ¨çº¿å¤„ç†</h2>
                    <p>å…è´¹åœ¨çº¿è¯ä»¶ç…§æ¢åº•è‰²å·¥å…·ï¼Œæ”¯æŒçº¢åº•ã€è“åº•ã€ç™½åº•è¯ä»¶ç…§ä¸€é”®åˆ‡æ¢ã€‚é‡‡ç”¨æ™ºèƒ½AIç®—æ³•ï¼Œè‡ªåŠ¨è¯†åˆ«äººåƒèƒŒæ™¯ï¼Œæ¢åº•è‰²æ•ˆæœè‡ªç„¶çœŸå®ã€‚æ— éœ€ä¸‹è½½å®‰è£…ä»»ä½•è½¯ä»¶ï¼Œæ‰“å¼€æµè§ˆå™¨å³å¯ä½¿ç”¨ã€‚</p>
            
                    <div class="seo-grid">
                        <div>
                            <h3>ä¸»è¦åŠŸèƒ½ç‰¹è‰²</h3>
                            <ul class="feature-list">
                                <li><span class="feature-icon">âœ“</span><strong>æ™ºèƒ½æ¢åº•è‰²</strong> - ä¸€é”®åˆ‡æ¢çº¢åº•ã€è“åº•ã€ç™½åº•è¯ä»¶ç…§</li>
                                <li><span class="feature-icon">âœ“</span><strong>AIæ™ºèƒ½æŠ å›¾</strong> - è‡ªåŠ¨è¯†åˆ«äººåƒè¾¹ç¼˜ï¼ŒæŠ å›¾æ•ˆæœä¸“ä¸š</li>
                                <li><span class="feature-icon">âœ“</span><strong>è‡ªå®šä¹‰é¢œè‰²</strong> - æ”¯æŒä»»æ„èƒŒæ™¯é¢œè‰²è®¾ç½®</li>
                                <li><span class="feature-icon">âœ“</span><strong>ç²¾åº¦è°ƒèŠ‚</strong> - å¯è°ƒèŠ‚èƒŒæ™¯è¯†åˆ«ç²¾åº¦ï¼Œé€‚åº”ä¸åŒå›¾ç‰‡</li>
                                <li><span class="feature-icon">âœ“</span><strong>å¤šæ ¼å¼æ”¯æŒ</strong> - æ”¯æŒPNGã€JPGç­‰å¤šç§æ ¼å¼å¯¼å‡º</li>
                                <li><span class="feature-icon">âœ“</span><strong>å…è´¹ä½¿ç”¨</strong> - å®Œå…¨å…è´¹ï¼Œæ— æ°´å°ï¼Œæ— é™åˆ¶ä½¿ç”¨</li>
                            </ul>
            
                            <h3>é€‚ç”¨åœºæ™¯</h3>
                            <p>é€‚åˆå„ç§è¯ä»¶ç…§åˆ¶ä½œéœ€æ±‚ï¼šèº«ä»½è¯ç…§ç‰‡ã€æŠ¤ç…§ç…§ç‰‡ã€é©¾é©¶è¯ç…§ç‰‡ã€å­¦ç”Ÿè¯ç…§ç‰‡ã€å·¥ä½œè¯ç…§ç‰‡ã€ç®€å†ç…§ç‰‡ç­‰ã€‚ä¸åŒæœºæ„å¯¹è¯ä»¶ç…§èƒŒæ™¯è‰²è¦æ±‚ä¸åŒï¼Œæˆ‘ä»¬çš„å·¥å…·å¯ä»¥å¿«é€Ÿæ»¡è¶³å„ç§éœ€æ±‚ã€‚</p>
                        </div>
            
                        <aside class="related-tools">
                            <h3>ğŸ”§ ç›¸å…³å·¥å…·</h3>
                            <a href="/" class="tool-link">ğŸ¨ åœ¨çº¿PSç¼–è¾‘å™¨</a>
                            <a href="/translation.html" class="tool-link">ğŸ”„ å›¾ç‰‡æ ¼å¼è½¬æ¢</a>
                            <a href="#" class="tool-link">ğŸ“ è¯ä»¶ç…§å°ºå¯¸è°ƒæ•´</a>
                            <a href="#" class="tool-link">ğŸ–¼ï¸ å›¾ç‰‡å‹ç¼©å·¥å…·</a>
                        </aside>
                    </div>
                </div>
            </section>
        </div>
        <!-- è‹±æ–‡åŒºåŸŸ -->
        <div class="controle-en">
            <section class="seo-content">
                <div class="seo-container">
                    <h2>ID Photo Background Color Change Tool - Professional Online Processing</h2>
                    <p>Free online ID photo background color change tool, supporting one-click switching of red, blue, and white ID photos. Using intelligent AI algorithms, it automatically recognizes the background of the portrait, and the background color change effect is natural and realistic. No software installation is required, just open the browser to use.</p>
        
                    <div class="seo-grid">
                        <div>
                            <h3>Key Features</h3>
                            <ul class="feature-list">
                                <li><span class="feature-icon">âœ“</span><strong>Intelligent Background Color Change</strong> - One-click switching of red, blue, and white ID photos</li>
                                <li><span class="feature-icon">âœ“</span><strong>AI Smart Cutout</strong> - Automatically recognizes the edges of the portrait, professional cutout effect</li>
                                <li><span class="feature-icon">âœ“</span><strong>Custom Color</strong> - Supports any background color setting</li>
                                <li><span class="feature-icon">âœ“</span><strong>Precision Adjustment</strong> - Adjustable background recognition precision to adapt to different images</li>
                                <li><span class="feature-icon">âœ“</span><strong>Multi-Format Support</strong> - Supports exporting in various formats such as PNG, JPG, etc.</li>
                                <li><span class="feature-icon">âœ“</span><strong>Free to Use</strong> - Completely free, no watermarks, no usage restrictions</li>
                            </ul>

                            <h3>Applicable Scenarios</h3>
                            <p>Suitable for various ID photo production needs: ID card photos, passport photos, driver's license photos, student ID photos, work ID photos, resume photos, etc. Different institutions have different requirements for ID photo background colors, and our tool can quickly meet various needs.</p>
                        </div>
        
                        <aside class="related-tools">
                            <h3>ğŸ”§ Related Tools</h3>
                            <a href="/" class="tool-link">ğŸ¨ Online PS Editor</a>
                            <a href="/translation.html" class="tool-link">ğŸ”„ Image Format Converter</a>
                            <a href="#" class="tool-link">ğŸ“ ID Photo Size Adjustment</a>
                            <a href="#" class="tool-link">ğŸ–¼ï¸ Image Compression Tool</a>
                        </aside>
                    </div>
                </div>
            </section>
        </div>

        <!-- åŸæœ‰JavaScriptä»£ç ä¿æŒä¸å˜ -->
        <script>
            let originalImageData = null;
            let currentCanvas = null;
            let currentCtx = null;

            // åˆå§‹åŒ–
            document.addEventListener('DOMContentLoaded', function () {
                initializeApp();
            });

            function initializeApp() {
                const uploadArea = document.getElementById('uploadArea');
                const fileInput = document.getElementById('fileInput');
                const toleranceSlider = document.getElementById('tolerance');
                const toleranceValue = document.getElementById('toleranceValue');
                const cutoutToleranceSlider = document.getElementById('cutoutTolerance');
                const cutoutToleranceValue = document.getElementById('cutoutToleranceValue');

                // ä¸Šä¼ åŒºåŸŸç‚¹å‡»äº‹ä»¶
                uploadArea.addEventListener('click', () => fileInput.click());

                // æ–‡ä»¶é€‰æ‹©äº‹ä»¶
                fileInput.addEventListener('change', handleFileSelect);

                // æ‹–æ‹½äº‹ä»¶
                uploadArea.addEventListener('dragover', handleDragOver);
                uploadArea.addEventListener('dragleave', handleDragLeave);
                uploadArea.addEventListener('drop', handleFileDrop);

                // æ»‘å—äº‹ä»¶
                toleranceSlider.addEventListener('input', (e) => {
                    toleranceValue.textContent = e.target.value;
                });

                cutoutToleranceSlider.addEventListener('input', (e) => {
                    cutoutToleranceValue.textContent = e.target.value;
                });

                // é¢œè‰²æŒ‰é’®äº‹ä»¶
                document.querySelectorAll('.color-btn').forEach(btn => {
                    btn.addEventListener('click', function () {
                        document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('selected'));
                        this.classList.add('selected');
                        const color = this.getAttribute('data-color');
                        changeBackground(color);
                    });
                });
            }

            function handleDragOver(e) {
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('uploadArea').classList.add('dragover');
            }

            function handleDragLeave(e) {
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('uploadArea').classList.remove('dragover');
            }

            function handleFileDrop(e) {
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('uploadArea').classList.remove('dragover');

                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    processFile(files[0]);
                }
            }

            function handleFileSelect(e) {
                const file = e.target.files[0];
                if (file) {
                    processFile(file);
                }
            }

            function processFile(file) {
                if (!file.type.startsWith('image/')) {
                    alert('è¯·é€‰æ‹©æœ‰æ•ˆçš„å›¾ç‰‡æ–‡ä»¶ï¼');
                    return;
                }

                const reader = new FileReader();
                reader.onload = function (e) {
                    loadImage(e.target.result);
                };
                reader.readAsDataURL(file);
            }

            function loadImage(src) {
                const img = new Image();
                img.onload = function () {
                    const originalImage = document.getElementById('originalImage');
                    const canvas = document.getElementById('resultCanvas');
                    const ctx = canvas.getContext('2d');

                    // è®¾ç½®å›¾ç‰‡
                    originalImage.src = src;

                    // è®¾ç½®canvaså°ºå¯¸
                    canvas.width = img.width;
                    canvas.height = img.height;

                    // ç»˜åˆ¶åŸå›¾åˆ°canvas
                    ctx.drawImage(img, 0, 0);

                    // ä¿å­˜åŸå§‹å›¾åƒæ•°æ®
                    originalImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    currentCanvas = canvas;
                    currentCtx = ctx;

                    // æ˜¾ç¤ºå·¥ä½œåŒºåŸŸ
                    document.getElementById('workspace').classList.remove('hidden');
                    document.getElementById('controls').classList.remove('hidden');
                };
                img.src = src;
            }

            function showLoading(show) {
                const loading = document.getElementById('loading');
                if (show) {
                    loading.classList.remove('hidden');
                } else {
                    loading.classList.add('hidden');
                }
            }

            function changeBackground(newColor) {
                if (!originalImageData) {
                    alert('è¯·å…ˆä¸Šä¼ å›¾ç‰‡ï¼');
                    return;
                }

                showLoading(true);

                // ä½¿ç”¨setTimeoutç¡®ä¿loadingæ˜¾ç¤º
                setTimeout(() => {
                    try {
                        const tolerance = parseInt(document.getElementById('tolerance').value);
                        const imageData = new ImageData(
                            new Uint8ClampedArray(originalImageData.data),
                            originalImageData.width,
                            originalImageData.height
                        );

                        const newColorRgb = hexToRgb(newColor);

                        // æ£€æµ‹èƒŒæ™¯è‰²ï¼ˆå››ä¸ªè§’çš„å¹³å‡è‰²ï¼‰
                        const bgColor = detectBackgroundColor(imageData);

                        // æ›¿æ¢èƒŒæ™¯è‰²
                        replaceColor(imageData, bgColor, newColorRgb, tolerance);

                        // åº”ç”¨åˆ°canvas
                        currentCtx.putImageData(imageData, 0, 0);

                        showLoading(false);
                    } catch (error) {
                        console.error('æ¢èƒŒæ™¯å¤±è´¥:', error);
                        alert('æ¢èƒŒæ™¯å¤±è´¥ï¼Œè¯·é‡è¯•ï¼');
                        showLoading(false);
                    }
                }, 100);
            }

            function smartCutout() {
                if (!originalImageData) {
                    alert('è¯·å…ˆä¸Šä¼ å›¾ç‰‡ï¼');
                    return;
                }

                showLoading(true);

                setTimeout(() => {
                    try {
                        const tolerance = parseInt(document.getElementById('cutoutTolerance').value);
                        const imageData = new ImageData(
                            new Uint8ClampedArray(originalImageData.data),
                            originalImageData.width,
                            originalImageData.height
                        );

                        // æ£€æµ‹èƒŒæ™¯è‰²
                        const bgColor = detectBackgroundColor(imageData);

                        // å°†èƒŒæ™¯è®¾ä¸ºé€æ˜
                        makeBackgroundTransparent(imageData, bgColor, tolerance);

                        // åº”ç”¨åˆ°canvas
                        currentCtx.clearRect(0, 0, currentCanvas.width, currentCanvas.height);
                        currentCtx.putImageData(imageData, 0, 0);

                        showLoading(false);
                    } catch (error) {
                        console.error('æŠ å›¾å¤±è´¥:', error);
                        alert('æŠ å›¾å¤±è´¥ï¼Œè¯·é‡è¯•ï¼');
                        showLoading(false);
                    }
                }, 100);
            }

            function detectBackgroundColor(imageData) {
                const data = imageData.data;
                const width = imageData.width;
                const height = imageData.height;

                // å–å››ä¸ªè§’çš„åƒç´ ä½œä¸ºèƒŒæ™¯è‰²å‚è€ƒ
                const corners = [
                    { x: 0, y: 0 },
                    { x: width - 1, y: 0 },
                    { x: 0, y: height - 1 },
                    { x: width - 1, y: height - 1 }
                ];

                let totalR = 0, totalG = 0, totalB = 0;

                corners.forEach(corner => {
                    const index = (corner.y * width + corner.x) * 4;
                    totalR += data[index];
                    totalG += data[index + 1];
                    totalB += data[index + 2];
                });

                return {
                    r: Math.round(totalR / 4),
                    g: Math.round(totalG / 4),
                    b: Math.round(totalB / 4)
                };
            }

            function replaceColor(imageData, oldColor, newColor, tolerance) {
                const data = imageData.data;

                for (let i = 0; i < data.length; i += 4) {
                    const r = data[i];
                    const g = data[i + 1];
                    const b = data[i + 2];

                    const diff = Math.abs(r - oldColor.r) + Math.abs(g - oldColor.g) + Math.abs(b - oldColor.b);

                    if (diff <= tolerance) {
                        data[i] = newColor.r;
                        data[i + 1] = newColor.g;
                        data[i + 2] = newColor.b;
                    }
                }
            }

            function makeBackgroundTransparent(imageData, bgColor, tolerance) {
                const data = imageData.data;

                for (let i = 0; i < data.length; i += 4) {
                    const r = data[i];
                    const g = data[i + 1];
                    const b = data[i + 2];

                    const diff = Math.abs(r - bgColor.r) + Math.abs(g - bgColor.g) + Math.abs(b - bgColor.b);

                    if (diff <= tolerance) {
                        data[i + 3] = 0; // è®¾ç½®ä¸ºé€æ˜
                    }
                }
            }

            function hexToRgb(hex) {
                const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? {
                    r: parseInt(result[1], 16),
                    g: parseInt(result[2], 16),
                    b: parseInt(result[3], 16)
                } : null;
            }

            function exportImage(format) {
                if (!currentCanvas) {
                    alert('æ²¡æœ‰å¯å¯¼å‡ºçš„å›¾ç‰‡ï¼');
                    return;
                }

                try {
                    const link = document.createElement('a');
                    const mimeType = format === 'png' ? 'image/png' : 'image/jpeg';
                    const filename = `è¯ä»¶ç…§_${format}_${Date.now()}.${format}`;

                    link.download = filename;
                    link.href = currentCanvas.toDataURL(mimeType, 0.9);
                    link.click();
                } catch (error) {
                    console.error('å¯¼å‡ºå¤±è´¥:', error);
                    alert('å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•ï¼');
                }
            }

            function resetImage() {
                if (!originalImageData) {
                    alert('æ²¡æœ‰åŸå§‹å›¾ç‰‡ï¼');
                    return;
                }

                currentCtx.putImageData(originalImageData, 0, 0);

                // é‡ç½®é€‰ä¸­çŠ¶æ€
                document.querySelectorAll('.color-btn').forEach(btn => {
                    btn.classList.remove('selected');
                });
            }


            (function () {
                const btn = document.getElementById('toggleLang');
                const label = document.getElementById('langLabel');
                const flag = document.getElementById('langFlag');
                const state = document.getElementById('langState');
                const userLang = navigator.language || navigator.userLanguage;

                function showLang(lang) {
                    if (lang === 'en') {
                        document.querySelectorAll('.controle-zh').forEach(el => el.style.display = 'none');
                        document.querySelectorAll('.controle-en').forEach(el => el.style.display = 'block');
                        document.body.classList.add('lang-en');
                        label.textContent = 'English';
                        flag.style.background = 'linear-gradient(90deg,#00247d 0%,#cf142b 100%)';
                        state.textContent = 'EN';
                        localStorage.setItem('site_lang', 'en');
                        document.title = "Online Image Format Converter - JPG/PNG/GIF/WEBP Conversion | Free Image Converter";

                    } else {
                        document.querySelectorAll('.controle-zh').forEach(el => el.style.display = 'block');
                        document.querySelectorAll('.controle-en').forEach(el => el.style.display = 'none');
                        document.body.classList.remove('lang-en');
                        label.textContent = 'ä¸­æ–‡';
                        flag.style.background = 'linear-gradient(90deg,#de2910 0%,#de2910 100%)';
                        state.textContent = 'ä¸­';
                        localStorage.setItem('site_lang', 'zh');
                        document.title = "åœ¨çº¿å›¾ç‰‡æ ¼å¼è½¬æ¢å·¥å…· - JPG/PNG/GIF/WEBPäº’è½¬ | å…è´¹å›¾ç‰‡è½¬æ¢å™¨";
                    }
                }

                // read saved preference first
                const saved = localStorage.getItem('site_lang') || userLang;
                if (saved) showLang(saved);

                btn.addEventListener('click', function () {
                    const currentlyEn = document.body.classList.contains('lang-en');
                    showLang(currentlyEn ? 'zh' : 'en');
                    // small click feedback
                    btn.animate([{ transform: 'translateY(0)' }, { transform: 'translateY(-4px)' }, { transform: 'translateY(0)' }], { duration: 220 });
                });

                // keep toggle in sync if other code sets initial display (on load)
                document.addEventListener('DOMContentLoaded', function () {
                    // if saved not present, leave existing auto-detect but update button UI
                    if (!saved) {
                        const enVisible = Array.from(document.querySelectorAll('.controle-en')).some(el => getComputedStyle(el).display !== 'none');
                        showLang(enVisible ? 'en' : 'zh');
                    }
                });
            })();
        </script>
    </body>

</html>